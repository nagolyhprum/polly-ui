{"version":3,"sources":["src/js/prototype.js","src/js/res/drawable/index.js","src/js/res/style.js","src/js/views/splash.js","src/js/rave/screen.js","src/js/index.js"],"names":["Array","prototype","contains","item","indexOf","account","phrase","apple","require","banana","beer","chopsticks","clock","coffee","egg","eight","five","four","half","nine","one","red_wine","seven","six","three","twenty_five","two","white_wine","star","normal","filled","blue","streak","highlighted","hollow","download","complete","phrases","logos","lexicon_blue","lexicon_white","google","facebook","icons","lexicon_celebrate","down","report_blue","share","forward","play","menu","tip","skip","ignore","report","mic_off_black","volume_off_black","pause_blue","record_blue_inactive","play_blue_inactive","badge","test_audio","test_all","test_favorites","back","back_white","search","clear","clear_gray","add_white","settings","group","question_mark","profile","check_blue","add_black","languages","english","chinese_cantonese","chinese_mandarin","polish","spanish","arabic","bengali","catalan","czech","danish","dutch","filipino","finnish","french","german","greek","gujrati","hebrew","hindi","indonesian","italian","japanese","korean","persian","portuguese","russian","slovak","swedish","thai","turkish","urdu","vietnamese","chapters","adjectives","date","greetings","life_choices","possessive","restaurant","shopping","tenses","travel","sections","beginner","intermediate","advanced","WEIGHTS","SIZES","from","length","map","_","i","reduce","font","weight","size","Object","assign","state","container","background","padding","position","text","round","onClick","anchor","start","src","style","linear","textColor","WRAP","MATCH","PERCENT","textAlign","button","drawable","bold_34","bold_20","LanguagePicker","Login","slight_round","EMPTY_ARRAY","COMPLEMENTARY_DIMENSIONS","width","height","x","y","OPPOSITE_DIMENSIONS","DIMENSIONS","LINE_SPACING","roundRect","context","radius","fill","stroke","tl","tr","br","bl","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","fillStyle","strokeStyle","getValue","view","dim","getTopBottom","r","getLeftRight","getName","display","image","children","reposition","parent","margin","bounds","scrollX","scrollY","Screen","canvas","textbox","document","createElement","body","appendChild","onblur","render","oninput","value","active","intersection","left","top","right","bottom","getContext","bind","getMouse","e","name","getBoundingClientRect","pageX","pageY","last","call","mouse","mouseOver","forEach","onMouseOut","onMouseIn","moved","onmousedown","onmouseout","onmousemove","onmouseup","onclick","child","isInBounds","isPointInPath","concat","percent","vp","getViewPortSize","spaceAround","imageBounds","naturalWidth","naturalHeight","other","opposite","Math","max","input","split","measureText","count","managers","overflow","alpha","color","align","push","visibility","visible","hidden","animateVisibility","animate","firstRender","timeout","callback","ms","setTimeout","shadow","type","to","cb","Date","now","handler","min","keys","key","clearInterval","interval","setInterval","pop","console","log","separator","spacing","direction","unshift","span","space","index","previous","clearRect","layoutView","renderView","ctx","cvs","scrollable","lastMouse","lastTs","dx","dy","dt","abs","update","onMouseMove","onMouseDown","onMouseUp","getIntersection","manager","wrapper","current","equals","save","globalAlpha","hw","hh","mw","mh","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","translate","fillRect","setLineDash","strokeRect","drawImage","clip","activeElement","focus","offset","scrollLeft","textBaseline","lines","line","offsetX","fillText","join","restore","card","tabs","tab$","Observable","normal_12","set","indicator","observe","tab","args","observables$","observable$","skipFirst","values","it","get","observable","getElementsByTagName","Splash"],"mappings":"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","file":"js.c589d864.map","sourceRoot":"..","sourcesContent":["Array.prototype.contains = function(item) {\n  return this.indexOf(item) !== -1\n}\n","export default {\n  account: {},\n  phrase: {\n    apple: require('drawable/phrase_apple.svg'),\n    banana: require('drawable/phrase_banana.svg'),\n    beer: require('drawable/phrase_beer.svg'),\n    chopsticks: require('drawable/phrase_chopsticks.svg'),\n    clock: require('drawable/phrase_clock.svg'),\n    coffee: require('drawable/phrase_coffee.svg'),\n    egg: require('drawable/phrase_egg.svg'),\n    eight: require('drawable/phrase_eight.svg'),\n    five: require('drawable/phrase_five.svg'),\n    four: require('drawable/phrase_four.svg'),\n    half: require('drawable/phrase_half.svg'),\n    nine: require('drawable/phrase_nine.svg'),\n    one: require('drawable/phrase_one.svg'),\n    red_wine: require('drawable/phrase_red_wine.svg'),\n    seven: require('drawable/phrase_seven.svg'),\n    six: require('drawable/phrase_six.svg'),\n    three: require('drawable/phrase_three.svg'),\n    twenty_five: require('drawable/phrase_twenty_five.svg'),\n    two: require('drawable/phrase_two.svg'),\n    white_wine: require('drawable/phrase_white_wine.svg')\n  },\n  star: {\n    normal: require('drawable/star_normal.svg'),\n    filled: require('drawable/star_filled.svg'),\n    blue: require('drawable/star_blue.svg')\n  },\n  streak: {\n    normal: require('drawable/streak_normal.svg'),\n    highlighted: require('drawable/streak_highlighted.svg'),\n    filled: require('drawable/streak_filled.svg'),\n    hollow: require('drawable/streak_hollow.svg')\n  },\n  download: {\n    complete: require('drawable/download_complete.svg'),\n    normal: require('drawable/download_normal.svg')\n  },\n  phrases: {\n    normal: require('drawable/phrases_normal.svg')\n  },\n  logos: {\n    lexicon_blue: require('drawable/logos_lexicon_blue.svg'),\n    lexicon_white: require('drawable/logos_lexicon_white.svg'),\n    google: require('drawable/logos_google.svg'),\n    facebook: require('drawable/logos_facebook.svg')\n  },\n  icons: {\n    lexicon_celebrate: require('drawable/icons_lexicon_celebrate.svg'),\n    down: require('drawable/icons_down.svg'),\n    report_blue: require('drawable/icons_report_blue.svg'),\n    share: require('drawable/icons_share.svg'),\n    forward: require('drawable/icons_forward.svg'),\n    play: require('drawable/icons_play.svg'),\n    menu: require('drawable/icons_menu.svg'),\n    tip: require('drawable/icons_tip.svg'),\n    skip: require('drawable/icons_skip.svg'),\n    ignore: require('drawable/icons_ignore.svg'),\n    report: require('drawable/icons_report.svg'),\n    mic_off_black: require('drawable/icons_mic_off_black.svg'),\n    volume_off_black: require('drawable/icons_volume_off_black.svg'),\n    pause_blue: require('drawable/icons_pause_blue.svg'),\n    record_blue_inactive: require('drawable/icons_record_blue_inactive.svg'),\n    play_blue_inactive: require('drawable/icons_play_blue_inactive.svg'),\n    badge: require('drawable/icons_badge.svg'),\n    test_audio: require('drawable/icons_test_audio.svg'),\n    test_all: require('drawable/icons_test_all.svg'),\n    test_favorites: require('drawable/icons_test_favorites.svg'),\n    back: require('drawable/icons_back.svg'),\n    back_white: require('drawable/icons_back_white.svg'),\n    search: require('drawable/icons_search.svg'),\n    clear: require('drawable/icons_clear.svg'),\n    clear_gray: require('drawable/icons_clear_gray.svg'),\n    add_white: require('drawable/icons_add_white.svg'),\n    account: require('drawable/icons_account.svg'),\n    settings: require('drawable/icons_settings.svg'),\n    group: require('drawable/icons_group.svg'),\n    question_mark: require('drawable/icons_question_mark.svg'),\n    profile: require('drawable/icons_profile.svg'),\n    check_blue: require('drawable/icons_check_blue.svg'),\n    add_black: require('drawable/icons_add_black.svg')\n  },\n  languages: {\n    // SVGS\n    english: require('drawable/languages_english.svg'),\n    chinese_cantonese: require('drawable/languages_chinese_cantonese.svg'),\n    chinese_mandarin: require('drawable/languages_chinese_mandarin.svg'),\n    polish: require('drawable/languages_polish.svg'),\n    spanish: require('drawable/languages_spanish.svg'),\n    // PNGS\n    arabic: require('drawable/languages_arabic.png'),\n    bengali: require('drawable/languages_bengali.png'),\n    catalan: require('drawable/languages_catalan.png'),\n    czech: require('drawable/languages_czech.png'),\n    danish: require('drawable/languages_danish.png'),\n    dutch: require('drawable/languages_dutch.png'),\n    filipino: require('drawable/languages_filipino.png'),\n    finnish: require('drawable/languages_finnish.png'),\n    french: require('drawable/languages_french.png'),\n    german: require('drawable/languages_german.png'),\n    greek: require('drawable/languages_greek.png'),\n    gujrati: require('drawable/languages_gujrati.png'),\n    hebrew: require('drawable/languages_hebrew.png'),\n    hindi: require('drawable/languages_hindi.png'),\n    indonesian: require('drawable/languages_indonesian.png'),\n    italian: require('drawable/languages_italian.png'),\n    japanese: require('drawable/languages_japanese.png'),\n    korean: require('drawable/languages_korean.png'),\n    persian: require('drawable/languages_persian.png'),\n    portuguese: require('drawable/languages_portuguese.png'),\n    russian: require('drawable/languages_russian.png'),\n    slovak: require('drawable/languages_slovak.png'),\n    swedish: require('drawable/languages_swedish.png'),\n    thai: require('drawable/languages_thai.png'),\n    turkish: require('drawable/languages_turkish.png'),\n    urdu: require('drawable/languages_urdu.png'),\n    vietnamese: require('drawable/languages_vietnamese.png')\n  },\n  chapters: {\n    adjectives: require('drawable/chapters_adjectives.svg'),\n    date: require('drawable/chapters_date.svg'),\n    greetings: require('drawable/chapters_greetings.svg'),\n    life_choices: require('drawable/chapters_life_choices.svg'),\n    possessive: require('drawable/chapters_possessive.svg'),\n    restaurant: require('drawable/chapters_restaurant.svg'),\n    shopping: require('drawable/chapters_shopping.svg'),\n    tenses: require('drawable/chapters_tenses.svg'),\n    travel: require('drawable/chapters_travel.svg')\n  },\n  sections: {\n    beginner: require('drawable/sections_beginner.svg'),\n    intermediate: require('drawable/sections_intermediate.svg'),\n    advanced: require('drawable/sections_advanced.svg')\n  }\n}\n","const WEIGHTS = [\"normal\", \"medium\", \"bold\"]\nconst SIZES = Array.from({ length : 32 }).map((_, i) => i + 8)\nexport default WEIGHTS.reduce((font, weight) => {\n  return SIZES.reduce((font, size) => {\n    return Object.assign({}, font, {\n      [`${weight}_${size}`] : {\n        weight,\n        size\n      }\n    })\n  }, font)\n}, {})\n","import drawable from \"drawable\"\nimport style from \"style\"\n\nexport default function (state) {\n  const {\n    container,\n    background,\n    padding,\n    position,\n    text,\n    round,\n    onClick,\n    anchor,\n    start,\n    src,\n    style,\n    linear,\n    textColor,\n    WRAP,\n    MATCH,\n    PERCENT,\n    textAlign,\n    button\n  } = this;\n  background(\"#2196f3\")\n  container(PERCENT(40), WRAP, () => {\n    anchor(.5, .5)\n    position(.5, .25)\n    src(drawable.logos.lexicon_white)\n  })\n  container(WRAP, WRAP, () => {\n    linear(16)\n    anchor(.5, .5)\n    position(.5, .5)\n    container(WRAP, WRAP, () => {\n      anchor(.5, 0)\n      position(.5, 0)\n      textColor(\"white\")\n      text(\"Lexicon\")\n      style(style.bold_34)\n    })\n    container(WRAP, WRAP, () => {\n      text(\"Your language learning buddy\")\n      textColor(\"white\")\n      style(style.bold_20)\n    })\n  })\n  container(PERCENT(50), WRAP, () => {\n    linear(16)\n    anchor(.5, .5)\n    position(.5, .75)\n    container(MATCH, WRAP, () => {\n      button(\"#673ab7\")\n      text(\"GET STARTED\")\n      onClick(() => {\n        start(LanguagePicker, state)\n      })\n    })\n    container(MATCH, WRAP, () => {\n      text(\"LOGIN\")\n      button()\n      onClick(() => {\n        start(Login)\n      })\n    })\n  })\n}\n","const slight_round = 4\nconst EMPTY_ARRAY = [0, 0, 0, 0]\nconst COMPLEMENTARY_DIMENSIONS = {\n  width : 'x',\n  height : 'y',\n  x : 'width',\n  y : 'height'\n}\nconst OPPOSITE_DIMENSIONS = {\n  x : \"y\",\n  y : \"x\",\n  width : \"height\",\n  height : \"width\"\n}\nconst DIMENSIONS = {\n  x : \"width\",\n  y : \"height\",\n  width : \"height\",\n  height : \"width\"\n}\nconst LINE_SPACING = 8\n\nfunction roundRect(context, x, y, width, height, radius, fill, stroke) {\n  radius = { tl: radius, tr: radius, br: radius, bl: radius };\n  context.beginPath();\n  context.moveTo(x + radius.tl, y);\n  context.lineTo(x + width - radius.tr, y);\n  context.quadraticCurveTo(x + width, y, x + width, y + radius.tr);\n  context.lineTo(x + width, y + height - radius.br);\n  context.quadraticCurveTo(\n    x + width,\n    y + height,\n    x + width - radius.br,\n    y + height\n  );\n  context.lineTo(x + radius.bl, y + height);\n  context.quadraticCurveTo(x, y + height, x, y + height - radius.bl);\n  context.lineTo(x, y + radius.tl);\n  context.quadraticCurveTo(x, y, x + radius.tl, y);\n  context.closePath();\n  if(fill) {\n    context.fillStyle = fill;\n    context.fill();\n  }\n  if(stroke) {\n    context.strokeStyle = stroke;\n    context.stroke();\n  }\n}\n\nconst getValue = (view, dim) => {\n  if (typeof view[dim] === \"function\") {\n    return view[dim](view, dim);\n  } else {\n    return view[dim];\n  }\n};\n\nconst getTopBottom = r => {\n  return r instanceof Array ? r[0] + r[2] : 0;\n};\n\nconst getLeftRight = r => {\n  return r instanceof Array ? r[1] + r[3] : 0;\n};\n\nconst getName = view => view.text.display || view.image || `(${view.children.map(getName)})`;\n\nconst reposition = view => {\n  const padding = view.parent.padding instanceof Array ? view.parent.padding : EMPTY_ARRAY\n  const margin = view.parent.margin instanceof Array ? view.parent.margin : EMPTY_ARRAY\n  return {\n    x : view.parent.bounds.x + padding[3] + margin[3] + view.x + (view.parent.scrollX || 0),\n    y : view.parent.bounds.y + padding[0] + margin[0] + view.y + (view.parent.scrollY || 0)\n  }\n}\n\nfunction Screen(canvas) {\n\n  this.textbox = document.createElement(\"input\")\n  document.body.appendChild(this.textbox)\n  this.textbox.onblur = e => {\n    const view = this.textbox.view\n    if(view) {\n      this.textbox.view = null\n      view.textbox = null\n      this.render()\n    }\n  }\n  this.textbox.oninput = e => {\n    const view = this.textbox.view\n    if(view) {\n      view.text.display = this.textbox.value\n      this.render()\n    }\n  }\n\n  this.children = [];\n  this.active = this;\n  this.canvas = canvas;\n  this.bounds = {\n    x : 0, y : 0,\n    width : canvas.width, height : canvas.height\n  }\n  this.intersection = {\n    left : 0, top : 0, right : canvas.width, bottom : canvas.height,\n    x : 0, y : 0, width : canvas.width, height : canvas.height\n  }\n  this.context = canvas.getContext(\"2d\");\n  this.bind();\n\n  const getMouse = (e, name) => {\n    const bounds = canvas.getBoundingClientRect();\n    return {\n      x : e.pageX - bounds.left,\n      y : e.pageY - bounds.top,\n      name\n    }\n  }\n\n  this.last = []\n  const call = (e, name) => {\n    const mouse = getMouse(e, name)\n    const mouseOver = this.mouseOver(mouse, this);\n    this.last.forEach(view => {\n      if(!mouseOver.contains(view)) {\n        view.onMouseOut && view.onMouseOut(getMouse(e, \"onMouseOut\"))\n      }\n    })\n    mouseOver.forEach(view => {\n      if(!this.last.contains(view)) {\n        view.onMouseIn && view.onMouseIn(getMouse(e, \"onMouseIn\"))\n      }\n    })\n    this.last = mouseOver\n    let view = mouseOver[mouseOver.length - 1]\n    while (view && !view[name]) {\n      view = view.parent;\n    }\n    if(view && view !== this) {\n      view[name](mouse)\n    }\n  }\n\n  let moved\n  canvas.onmousedown = e => {\n    moved = 0\n    call(e, \"onMouseDown\")\n  }\n\n  canvas.onmouseout = e => {\n    const mouse = getMouse(e, \"onMouseOut\")\n    this.last.forEach(view => {\n      view.onMouseOut && view.onMouseOut(mouse)\n    })\n    this.last = []\n  }\n\n  canvas.onmousemove = e => {\n    moved++\n    call(e, \"onMouseMove\")\n  }\n\n  canvas.onmouseup = e => {\n    call(e, \"onMouseUp\")\n  }\n\n  canvas.onclick = e => {\n    if(moved < 5) {\n      call(e, \"onClick\")\n    }\n  };\n}\n\nScreen.prototype = {\n  mouseOver(mouse, view) {\n    return view.children.reduce((mouseOver, child) => {\n      const {\n        x,\n        y,\n        width,\n        height\n      } = child.bounds\n      const margin = child.margin || EMPTY_ARRAY\n      child.render(\n        this.context,\n        x + margin[3],\n        y + margin[0],\n        width - getLeftRight(margin),\n        height - getTopBottom(margin),\n        getValue(child, \"round\")\n      );\n      if (child.isInBounds && this.context.isPointInPath(mouse.x, mouse.y)) {\n        return mouseOver.concat([child]).concat(this.mouseOver(mouse, child))\n      }\n      return mouseOver\n    }, [])\n  },\n  PERCENT(percent) {\n    return dim => view => {\n      const vp = this.getViewPortSize(view.parent)\n      return {\n        [dim] : vp[OPPOSITE_DIMENSIONS[DIMENSIONS[dim]]] * percent / 100\n      }\n    }\n  },\n  MATCH(dim) {\n    return view => {\n      const vp = this.getViewPortSize(view.parent)\n      switch(dim) {\n        case \"width\" :\n           return {\n             width : vp.width\n           }\n        case \"height\" :\n           return {\n             height : vp.height\n           }\n      }\n    }\n  },\n  WRAP: (function() {\n    const canvas = document.createElement(\"canvas\");\n    const context = canvas.getContext(\"2d\");\n    return dim => view => {\n      const spaceAround = {\n        width : getLeftRight(view.padding) + getLeftRight(view.margin),\n        height : getTopBottom(view.padding) + getTopBottom(view.margin)\n      }[dim]\n      if(view.image) {\n        const imageBounds = {\n          width : view.image.width || view.image.naturalWidth,\n          height : view.image.height || view.image.naturalHeight\n        }\n        const other = OPPOSITE_DIMENSIONS[dim]\n        const opposite = Math.max(0, view.bounds[other] - spaceAround) / imageBounds[other] * imageBounds[dim]\n        return {\n          [dim] : (opposite || view.image[dim]) + spaceAround\n        }\n      } else if (view.children.length) {\n        return {\n          [dim] : Math.max(...view.children.map(\n            child =>\n              child[COMPLEMENTARY_DIMENSIONS[dim]] + //child.x\n              //child.bounds[COMPLEMENTARY_DIMENSIONS[dim]] + //child.bounds.x\n              child.bounds[dim] + //child.bounds.width\n              spaceAround\n          ))\n        }\n      } else if (view.text.display || view.input) {\n        if (dim === \"width\") {\n          context.font = `${view.text.size}px sans-serif`;\n          return {\n            width : Math.max(...view.text.display.split(\"\\n\").map(display => context.measureText(display).width)) + spaceAround\n          }\n        } else if (dim === \"height\") {\n          const count = view.text.display.split(\"\\n\").length\n          return {\n            height : (\n              view.text.size * count + LINE_SPACING * (count - 1) + spaceAround\n            )\n          }\n        }\n      }\n      return {\n        [dim] : spaceAround\n      }\n    };\n  })(),\n  container(width, height, render) {\n    const parent = this.active;\n    const child = {\n      render : roundRect,\n      round : 0,\n      //margin\n      //padding\n      //background\n      //onClick\n      managers : [\n        typeof width === \"function\" ? width(\"width\") : () => ({ width }),\n        typeof height === \"function\" ? height(\"height\") : () => ({ height }),\n        reposition\n      ],\n      overflow : true,\n      parent,\n      alpha : 1,\n      x : 0,\n      y : 0,\n      width : 0,\n      height : 0,\n      bounds : {\n        x : 0,\n        y : 0,\n        width : 0,\n        height : 0\n      },\n      scrollX : 0,\n      scrollY : 0,\n      children: [],\n      text: {\n        //display\n        size: 12,\n        color: \"black\",\n        weight : 'normal',\n        align : \"left\"\n      }\n    };\n    parent.children.push(child);\n    this.active = child;\n    render(child);\n    this.active = parent;\n    return child\n  },\n  style(text) {\n    if(text.size) {\n      this.active.text.size = text.size\n    }\n  },\n  getViewPortSize(view) {\n    return {\n      width : view.bounds.width - getLeftRight(view.padding) - getLeftRight(view.margin),\n      height : view.bounds.height - getTopBottom(view.padding) - getTopBottom(view.margin)\n    }\n  },\n  position(x, y) {\n    this.active.managers.push(view => {\n      const vp = this.getViewPortSize(view.parent)\n      return {\n        x : vp.width * x,\n        y : vp.height * y\n      }\n    })\n  },\n  anchor(x, y) {\n    this.active.managers.push(view => ({\n      x : -Math.max(view.bounds.width, 0) * x,\n      y : -Math.max(view.bounds.height, 0) * y\n    }))\n  },\n  visibility(visible) {\n    this.active.hidden = !visible\n  },\n  animateVisibility(visible) {\n    const view = this.active\n    if(visible) {\n      view.hidden = false\n      this.animate({\n        alpha : view.alpha\n      }, {\n        alpha : 1\n      }, this.firstRender ? 0 : 300)\n    } else {\n      this.animate({\n        alpha : view.alpha\n      }, {\n        alpha : 0\n      }, this.firstRender ? 0 : 300, () => {\n        view.hidden = true\n      })\n    }\n  },\n  timeout(callback, ms) {\n    const active = this.active\n    setTimeout(() => {\n      this.active = active\n      callback()\n      this.render()\n    }, ms)\n  },\n  margin(...margin) {\n    if(margin.length === 1) {\n      this.active.margin = [margin[0], margin[0], margin[0], margin[0]]\n    } else {\n      this.active.margin = margin;\n    }\n  },\n  padding(...padding) {\n    if(padding.length === 1) {\n      this.active.padding = [padding[0], padding[0], padding[0], padding[0]]\n    } else {\n      this.active.padding = padding;\n    }\n  },\n  background(background) {\n    this.active.background = background;\n  },\n  onClick(onClick) {\n    this.active.onClick = onClick;\n  },\n  text(display) {\n    this.active.text.display = display;\n  },\n  round(round) {\n    this.active.round = round;\n  },\n  shadow(shadow = true) {\n    this.active.shadow = shadow;\n  },\n  src(image) {\n    this.active.image = image;\n  },\n  textColor(textColor) {\n    this.active.text.color = textColor\n  },\n  textAlign(align) {\n    this.active.text.align = align\n  },\n  input(input = \"text\") {\n    const view = this.active\n    view.input = input\n    view.overflow = false\n    view.onClick = () => {\n      view.textbox = this.textbox\n      this.textbox.view = view\n      this.textbox.value = view.text.display\n      this.textbox.type = input\n      this.render()\n    }\n  },\n  animate(from, to, ms, cb) {\n    const view = this.active\n    const start = Date.now()\n    const handler = (now = Date.now()) => {\n      const percent =  Math.min((now - start) / ms, 1)\n      const weight = percent\n      Object.keys(from).forEach(key => {\n        view[key] = from[key] + (to[key] - from[key]) * weight\n      })\n      if(percent === 1) {\n        clearInterval(interval)\n        cb && cb()\n      }\n      this.render()\n    }\n    handler(start)\n    const interval = setInterval(handler, 1000 / 60)\n  },\n  start(view, state) {\n    this.firstRender = true\n    this.active = this\n    this.container(this.MATCH, this.MATCH, () => {\n      view.call(this, state)\n      if(this.children.length > 1) {\n        this.animate({\n          alpha : .25,\n          x : this.bounds.width\n        }, {\n          alpha : 1,\n          x : 0\n        }, 300)\n      }\n    })\n    this.render()\n    this.firstRender = false\n    return this\n  },\n  back() {\n    if(this.children.length > 1) {\n      this.active = this.children[this.children.length - 1]\n      this.animate({\n        alpha : 1,\n        x : 0\n      }, {\n        alpha : .25,\n        x : this.bounds.width\n      }, 300, () => {\n        this.children.pop()\n      })\n    } else {\n      console.log(\"TODO\")\n    }\n  },\n  separator() {\n    this.active.separator = true\n  },\n  linear(spacing = 0, direction = 'vertical') {\n    this.active.managers.unshift(view => {\n      const weight = view.children.reduce((weight, child) => weight + (child.weight || 0), 0)\n      if(weight) {\n        const dim = direction === \"vertical\" ? \"height\" : \"width\"\n        const vp = this.getViewPortSize(view)\n        const span = view.bounds[dim]\n        const space = view.children.reduce((space, child) => {\n          return space - (child.weight ? 0 : child.bounds[dim])\n        }, vp[dim] - spacing * (view.children.length - 1))\n        view.children.forEach(child => {\n          if(child.weight) {\n            child[dim] = (child.weight / weight) * space\n          }\n        })\n      }\n      view.children.forEach((child, index) => {\n        if(index) {\n          const previous = view.children[index - 1]\n          if(direction === 'vertical') {\n            child.y = previous.y + previous.bounds.height + spacing\n          } else if(direction === 'horizontal') {\n            child.x = previous.x + previous.bounds.width + spacing\n          }\n        }\n      })\n      return {}\n    })\n  },\n  weight(weight) {\n    this.active.weight = weight\n  },\n  render() {\n    this.textbox.style.display = \"none\"\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height)\n    this.children.forEach(child => {\n      this.layoutView(child)\n      this.renderView(child)\n    });\n    const ctx = this.context\n    const cvs = this.canvas\n    ctx.beginPath()\n\n    ctx.moveTo(0,0)\n    ctx.lineTo(cvs.width,0)\n    ctx.lineTo(cvs.width,cvs.height)\n    ctx.lineTo(0, cvs.height)\n    ctx.lineTo(0, 0)\n\n    ctx.moveTo(cvs.width / 4, cvs.height / 4)\n    ctx.lineTo(3 * cvs.width / 4, cvs.height / 4)\n    ctx.lineTo(3 * cvs.width / 4, 3 * cvs.height / 4)\n    ctx.lineTo(cvs.width / 4, 3 * cvs.height / 4)\n    ctx.lineTo(cvs.width / 4, cvs.height / 4)\n    ctx.fillStyle=\"rgba(0,0,0,.7)\"\n    ctx.fill()\n  },\n  scrollable() {\n    const active = this.active\n    active.overflow = false\n    let lastMouse, lastTs = Date.now(), dx = 0, dy = 0\n    setInterval(() => {\n      const now = Date.now()\n      const dt = (now - lastTs) / 1000\n      lastTs = now\n      dx /= 1.2\n      if(Math.abs(dx) < 1) {\n        dx = 0\n      }\n      dy /= 1.2\n      if(Math.abs(dy) < 1) {\n        dy = 0\n      }\n      if(!lastMouse && (dx || dy)) {\n        update()\n      }\n    }, 1000 / 60)\n    const update = () => {\n      const right = Math.max(0, ...active.children.map(child => child.bounds.x + child.bounds.width - (active.bounds.x + active.bounds.width + active.scrollX)))\n      const bottom = Math.max(0, ...active.children.map(child => child.bounds.y + child.bounds.height - (active.bounds.y + active.bounds.height + active.scrollY)))\n      active.scrollX = Math.max(Math.min(active.scrollX + dx, 0), -right)\n      active.scrollY = Math.max(Math.min(active.scrollY + dy, 0), -bottom)\n      this.render()\n    }\n    active.onMouseMove = function(mouse) {\n      if(lastMouse) {\n        dx = mouse.x - lastMouse.x\n        dy = mouse.y - lastMouse.y\n        update()\n        lastMouse = mouse\n      }\n    }\n    active.onMouseDown = function(mouse) {\n      lastMouse = mouse\n    }\n    active.onMouseUp = active.onMouseOut = function(mouse) {\n      lastMouse = null\n    }\n  },\n  getIntersection(view) {\n    const parent = view.parent\n    const intersection = {\n      x : Math.max(parent.intersection.x, view.bounds.x),\n      y : Math.max(parent.intersection.y, view.bounds.y)\n    }\n    intersection.left = intersection.x\n    intersection.top = intersection.y\n    intersection.right = Math.min(parent.intersection.x + parent.intersection.width, view.bounds.x + view.bounds.width)\n    intersection.bottom = Math.min(parent.intersection.y + parent.intersection.height, view.bounds.y + view.bounds.height)\n    intersection.width = intersection.right - intersection.left\n    intersection.height = intersection.bottom - intersection.top\n    view.intersection = intersection\n    //then check if its in bounds\n    view.isInBounds = intersection.width > 0 && intersection.height > 0 && !view.hidden\n  },\n  layoutView(view) {\n    const bounds = view.hidden ? {x:0,y:0,width:0,height:0} : view.managers.reduce((bounds, manager) => {\n      const wrapper = manager(view)\n      const current = typeof wrapper === \"function\" ? wrapper(view) : wrapper\n      return {\n        x : Math.round((current.x || 0) + bounds.x),\n        y : Math.round((current.y || 0) + bounds.y),\n        width : Math.round((current.width || 0) + bounds.width),\n        height : Math.round((current.height || 0) + bounds.height)\n      }\n    }, {\n      x : 0,\n      y : 0,\n      width : view.width,\n      height : view.height\n    })\n    const moved = !equals(view.bounds, bounds)\n    view.bounds = bounds\n    if(moved) {\n      this.layoutView(view)\n    } else {\n      this.getIntersection(view)\n    }\n    if(view.children.length) {\n      if(view.children.reduce((moved, child) => this.layoutView(child) || moved, false)) {\n        this.layoutView(view)\n        return true\n      }\n    }\n    return moved\n  },\n  renderView(view) {\n    if(view.isInBounds) {\n      this.context.save()\n      this.context.globalAlpha = this.context.globalAlpha * view.alpha\n      const x = view.bounds.x\n      const y = view.bounds.y\n      const width = view.bounds.width\n      const height = view.bounds.height\n      const hw = width / 2\n      const hh = height / 2\n      const margin = view.margin || EMPTY_ARRAY\n      const padding = view.padding || EMPTY_ARRAY\n      const mw = width - getLeftRight(margin);\n      const mh = height - getTopBottom(margin);\n\n      if(view.shadow) {\n        const shadow = 2\n        this.context.shadowColor = 'rgba(0, 0, 0, .7)';\n        this.context.shadowBlur = shadow;\n        this.context.shadowOffsetX = shadow;\n        this.context.shadowOffsetY = shadow;\n      }\n      view.render(\n        this.context,\n        x + margin[3],\n        y + margin[0],\n        mw,\n        mh,\n        getValue(view, \"round\"),\n        view.background || \"transparent\"\n      )\n      this.context.shadowColor = 'transparent';\n      this.context.shadowBlur = 0;\n      this.context.shadowOffsetX = 0;\n      this.context.shadowOffsetY = 0;\n      //DEBUG HERE\n      if(false) {\n        this.context.translate(x, y)\n        //padding\n        if(padding) {\n          this.context.fillStyle = \"rgba(0, 255, 0, .7)\"\n          //top\n          this.context.fillRect(margin[3], margin[0], width - (margin[3] + margin[1]), padding[0])\n          //left\n          this.context.fillRect(margin[3], margin[0] + padding[0], padding[3], height - (margin[0] + margin[2] + padding[0]))\n          //right\n          this.context.fillRect(width - margin[1] - padding[1], margin[0] + padding[0], padding[1], height - (margin[0] + margin[2] + padding[0]))\n          //bottom\n          this.context.fillRect(margin[3] + padding[3], height - margin[2] - padding[2], width - (margin[3] + padding[3] + margin[1] + padding[1]), padding[2])\n        }\n        //margin\n        if(margin) {\n          this.context.fillStyle = \"rgba(0, 0, 255, .7)\"\n          //top\n          this.context.fillRect(0, 0, width, margin[0])\n          //left\n          this.context.fillRect(0, margin[0], margin[3], height - margin[0])\n          //right\n          this.context.fillRect(width - margin[1], margin[0], margin[1], height - margin[0])\n          //bottom\n          this.context.fillRect(margin[3], height - margin[2], width - margin[1] - margin[3], margin[2])\n        }\n        //outline\n        this.context.strokeStyle = \"rgba(0, 0, 0, .7)\"\n        this.context.setLineDash([2, 4])\n        this.context.strokeRect(0, 0, width, height)\n        this.context.setLineDash([])\n        this.context.translate(-x, -y)\n      }\n      if(view.image && view.image.complete) {\n        this.context.drawImage(view.image, x + padding[3], y + padding[0], mw - getLeftRight(padding), mh - getTopBottom(padding))\n      }\n      //STOP DEBUG\n      if(!view.overflow) {\n        this.context.clip()\n      }\n      if(view.textbox) {\n        view.textbox.style.display = \"block\"\n        view.textbox.style.left = `${view.bounds.x}px`\n        view.textbox.style.top = `${view.bounds.y}px`\n        view.textbox.style.width = `${view.bounds.width}px`\n        view.textbox.style.height = `${view.bounds.height}px`\n        if(this.textbox !== document.activeElement) {\n          this.textbox.focus()\n        }\n      }\n      if (view.text.display) {\n        const offset = view.textbox ? view.textbox.scrollLeft : 0\n        this.context.fillStyle = view.text.color;\n        this.context.font = `${view.text.size}px sans-serif`;\n        this.context.textBaseline = \"top\";\n        this.context.textAlign = view.text.align;\n        const lines = view.text.display.split(\"\\n\")\n        lines.forEach((line, index) => {\n          let offsetX = 0\n          switch(this.context.textAlign) {\n            case \"right\" : offsetX = width - getLeftRight(padding); break;\n            case \"center\" : offsetX = mw / 2 - padding[3]; break;\n          }\n          // \\u25CF\n          // \\u2022\n          this.context.fillText(\n            view.input === \"password\" ? line.split(\"\").map(it => '\\u2022').join(\"\") : line,\n            x + offsetX + padding[3] - offset,\n            y + index * (view.text.size + LINE_SPACING) + padding[0]\n          );\n        })\n      }\n      view.children.forEach((child, index) => {\n        this.renderView(child)\n        if(index > 0 && view.separator) {\n          this.context.beginPath()\n          this.context.moveTo(\n            child.bounds.x,\n            child.bounds.y\n          )\n          this.context.lineTo(\n            child.bounds.x + child.bounds.width,\n            child.bounds.y\n          )\n          this.context.strokeStyle = \"rgba(0, 0, 0, .7)\"\n          this.context.stroke()\n        }\n      });\n      this.context.globalAlpha = this.context.globalAlpha / view.alpha\n      this.context.restore()\n    }\n  },\n  button(color) {\n    this.textAlign(\"center\")\n    this.padding(16)\n    this.textColor(\"white\")\n    if(color) {\n      this.round(child => Math.min(child.bounds.width / 2, child.bounds.height / 2))\n      this.background(color)\n    }\n  },\n  card() {\n    this.background(\"white\")\n    this.round(slight_round)\n    this.shadow()\n  },\n  tabs(...tabs) {\n    const tab$ = new Observable(0)\n    this.container(this.MATCH, this.WRAP, container => {\n      this.container(this.MATCH, this.WRAP, () => {\n        this.linear(0, \"horizontal\")\n        tabs.forEach((text, index) => {\n          this.container(0, this.WRAP, () => {\n            this.textColor(index ? \"black\" : \"white\")\n            this.padding(16)\n            this.weight(1)\n            this.text(text)\n            this.style(normal_12)\n            this.textAlign(\"center\")\n            this.onClick(() => tab$.set(index))\n          })\n        })\n      })\n      const indicator = this.container(dim => view => ({\n        width : view.parent.bounds.width / tabs.length\n      }), 5, () => {\n        this.position(0, 1)\n        this.anchor(0, 1)\n        this.background(\"gold\")\n      })\n      tab$.observe(tab => {\n        container.children[0].children.forEach(child => {\n          child.text.color = \"black\"\n        })\n        container.children[0].children[tab].text.color = \"white\"\n        this.active = indicator\n        this.animate({\n          x : indicator.x\n        }, {\n          x : tab * container.bounds.width / tabs.length\n        }, 300)\n      })\n    })\n    return tab$\n  },\n  observe(...args) {\n    const observables$ = args\n    const callback = observables$.pop()\n    const view = this.active\n    observables$.forEach((observable$, i) => {\n      observable$.observe(Observable.skipFirst(observable => {\n        this.active = view\n        const values = observables$.map(it => it.get())\n        values[i] = observable\n        callback(...values)\n      }))\n    })\n    callback(...observables$.map(it => it.get()))\n  },\n  bind() {\n    for (var i in this) {\n      if (typeof this[i] === \"function\") {\n        this[i] = this[i].bind(this);\n      }\n    }\n  }\n};\nexport default Screen\n","import \"./prototype\"\nimport Splash from \"./views/splash\"\nimport Screen from \"./rave/screen\"\nnew Screen(document.getElementsByTagName(\"canvas\")[0]).start(Splash);\n"]}