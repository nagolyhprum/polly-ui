{"version":3,"sources":["src/js/prototype.js","src/js/res/drawable/index.js","src/js/res/style.js","src/js/views/splash.js","src/js/rave/screen.js","src/js/index.js"],"names":["Array","prototype","contains","item","indexOf","account","phrase","apple","require","banana","beer","chopsticks","clock","coffee","egg","eight","five","four","half","nine","one","red_wine","seven","six","three","twenty_five","two","white_wine","star","normal","filled","blue","streak","highlighted","hollow","download","complete","phrases","logos","lexicon_blue","lexicon_white","google","facebook","icons","lexicon_celebrate","down","report_blue","share","forward","play","menu","tip","skip","ignore","report","mic_off_black","volume_off_black","pause_blue","record_blue_inactive","play_blue_inactive","badge","test_audio","test_all","test_favorites","back","back_white","search","clear","clear_gray","add_white","settings","group","question_mark","profile","check_blue","add_black","languages","english","chinese_cantonese","chinese_mandarin","polish","spanish","arabic","bengali","catalan","czech","danish","dutch","filipino","finnish","french","german","greek","gujrati","hebrew","hindi","indonesian","italian","japanese","korean","persian","portuguese","russian","slovak","swedish","thai","turkish","urdu","vietnamese","chapters","adjectives","date","greetings","life_choices","possessive","restaurant","shopping","tenses","travel","sections","beginner","intermediate","advanced","WEIGHTS","SIZES","from","length","map","_","i","reduce","font","weight","size","Object","assign","state","container","background","padding","position","text","round","onClick","anchor","start","src","style","linear","textColor","WRAP","MATCH","PERCENT","textAlign","button","drawable","bold_34","bold_20","LanguagePicker","Login","slight_round","EMPTY_ARRAY","COMPLEMENTARY_DIMENSIONS","width","height","x","y","OPPOSITE_DIMENSIONS","DIMENSIONS","LINE_SPACING","roundRect","context","radius","fill","stroke","tl","tr","br","bl","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","fillStyle","strokeStyle","getValue","view","dim","getTopBottom","r","getLeftRight","getName","display","image","children","reposition","parent","margin","bounds","scrollX","scrollY","Screen","canvas","textbox","document","createElement","body","appendChild","onblur","e","render","oninput","value","active","intersection","left","top","right","bottom","getContext","bind","getMouse","name","getBoundingClientRect","pageX","pageY","last","call","mouse","mouseOver","forEach","onMouseOut","onMouseIn","moved","onmousedown","onmouseout","onmousemove","onmouseup","onclick","child","isInBounds","isPointInPath","concat","percent","vp","getViewPortSize","spaceAround","imageBounds","naturalWidth","naturalHeight","other","opposite","Math","max","input","split","measureText","count","managers","overflow","alpha","color","align","push","visibility","visible","hidden","animateVisibility","animate","firstRender","timeout","callback","ms","setTimeout","shadow","type","to","cb","Date","now","handler","min","keys","key","clearInterval","interval","setInterval","pop","console","log","separator","spacing","direction","unshift","span","space","index","previous","clearRect","layoutView","renderView","ctx","cvs","scrollable","lastMouse","lastTs","dx","dy","dt","abs","update","onMouseMove","onMouseDown","onMouseUp","getIntersection","manager","wrapper","current","equals","save","globalAlpha","hw","hh","mw","mh","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","translate","fillRect","setLineDash","strokeRect","drawImage","clip","activeElement","focus","offset","scrollLeft","textBaseline","lines","line","offsetX","fillText","it","join","restore","card","tabs","tab$","Observable","normal_12","set","indicator","observe","tab","args","observables$","observable$","skipFirst","observable","values","get","getElementsByTagName","Splash"],"mappings":"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","file":"js.d818e0ef.map","sourceRoot":"..","sourcesContent":["Array.prototype.contains = function(item) {\n  return this.indexOf(item) !== -1\n}\n","export default {\n  account: {},\n  phrase: {\n    apple: require('drawable/phrase_apple.svg'),\n    banana: require('drawable/phrase_banana.svg'),\n    beer: require('drawable/phrase_beer.svg'),\n    chopsticks: require('drawable/phrase_chopsticks.svg'),\n    clock: require('drawable/phrase_clock.svg'),\n    coffee: require('drawable/phrase_coffee.svg'),\n    egg: require('drawable/phrase_egg.svg'),\n    eight: require('drawable/phrase_eight.svg'),\n    five: require('drawable/phrase_five.svg'),\n    four: require('drawable/phrase_four.svg'),\n    half: require('drawable/phrase_half.svg'),\n    nine: require('drawable/phrase_nine.svg'),\n    one: require('drawable/phrase_one.svg'),\n    red_wine: require('drawable/phrase_red_wine.svg'),\n    seven: require('drawable/phrase_seven.svg'),\n    six: require('drawable/phrase_six.svg'),\n    three: require('drawable/phrase_three.svg'),\n    twenty_five: require('drawable/phrase_twenty_five.svg'),\n    two: require('drawable/phrase_two.svg'),\n    white_wine: require('drawable/phrase_white_wine.svg')\n  },\n  star: {\n    normal: require('drawable/star_normal.svg'),\n    filled: require('drawable/star_filled.svg'),\n    blue: require('drawable/star_blue.svg')\n  },\n  streak: {\n    normal: require('drawable/streak_normal.svg'),\n    highlighted: require('drawable/streak_highlighted.svg'),\n    filled: require('drawable/streak_filled.svg'),\n    hollow: require('drawable/streak_hollow.svg')\n  },\n  download: {\n    complete: require('drawable/download_complete.svg'),\n    normal: require('drawable/download_normal.svg')\n  },\n  phrases: {\n    normal: require('drawable/phrases_normal.svg')\n  },\n  logos: {\n    lexicon_blue: require('drawable/logos_lexicon_blue.svg'),\n    lexicon_white: require('drawable/logos_lexicon_white.svg'),\n    google: require('drawable/logos_google.svg'),\n    facebook: require('drawable/logos_facebook.svg')\n  },\n  icons: {\n    lexicon_celebrate: require('drawable/icons_lexicon_celebrate.svg'),\n    down: require('drawable/icons_down.svg'),\n    report_blue: require('drawable/icons_report_blue.svg'),\n    share: require('drawable/icons_share.svg'),\n    forward: require('drawable/icons_forward.svg'),\n    play: require('drawable/icons_play.svg'),\n    menu: require('drawable/icons_menu.svg'),\n    tip: require('drawable/icons_tip.svg'),\n    skip: require('drawable/icons_skip.svg'),\n    ignore: require('drawable/icons_ignore.svg'),\n    report: require('drawable/icons_report.svg'),\n    mic_off_black: require('drawable/icons_mic_off_black.svg'),\n    volume_off_black: require('drawable/icons_volume_off_black.svg'),\n    pause_blue: require('drawable/icons_pause_blue.svg'),\n    record_blue_inactive: require('drawable/icons_record_blue_inactive.svg'),\n    play_blue_inactive: require('drawable/icons_play_blue_inactive.svg'),\n    badge: require('drawable/icons_badge.svg'),\n    test_audio: require('drawable/icons_test_audio.svg'),\n    test_all: require('drawable/icons_test_all.svg'),\n    test_favorites: require('drawable/icons_test_favorites.svg'),\n    back: require('drawable/icons_back.svg'),\n    back_white: require('drawable/icons_back_white.svg'),\n    search: require('drawable/icons_search.svg'),\n    clear: require('drawable/icons_clear.svg'),\n    clear_gray: require('drawable/icons_clear_gray.svg'),\n    add_white: require('drawable/icons_add_white.svg'),\n    account: require('drawable/icons_account.svg'),\n    settings: require('drawable/icons_settings.svg'),\n    group: require('drawable/icons_group.svg'),\n    question_mark: require('drawable/icons_question_mark.svg'),\n    profile: require('drawable/icons_profile.svg'),\n    check_blue: require('drawable/icons_check_blue.svg'),\n    add_black: require('drawable/icons_add_black.svg')\n  },\n  languages: {\n    // SVGS\n    english: require('drawable/languages_english.svg'),\n    chinese_cantonese: require('drawable/languages_chinese_cantonese.svg'),\n    chinese_mandarin: require('drawable/languages_chinese_mandarin.svg'),\n    polish: require('drawable/languages_polish.svg'),\n    spanish: require('drawable/languages_spanish.svg'),\n    // PNGS\n    arabic: require('drawable/languages_arabic.png'),\n    bengali: require('drawable/languages_bengali.png'),\n    catalan: require('drawable/languages_catalan.png'),\n    czech: require('drawable/languages_czech.png'),\n    danish: require('drawable/languages_danish.png'),\n    dutch: require('drawable/languages_dutch.png'),\n    filipino: require('drawable/languages_filipino.png'),\n    finnish: require('drawable/languages_finnish.png'),\n    french: require('drawable/languages_french.png'),\n    german: require('drawable/languages_german.png'),\n    greek: require('drawable/languages_greek.png'),\n    gujrati: require('drawable/languages_gujrati.png'),\n    hebrew: require('drawable/languages_hebrew.png'),\n    hindi: require('drawable/languages_hindi.png'),\n    indonesian: require('drawable/languages_indonesian.png'),\n    italian: require('drawable/languages_italian.png'),\n    japanese: require('drawable/languages_japanese.png'),\n    korean: require('drawable/languages_korean.png'),\n    persian: require('drawable/languages_persian.png'),\n    portuguese: require('drawable/languages_portuguese.png'),\n    russian: require('drawable/languages_russian.png'),\n    slovak: require('drawable/languages_slovak.png'),\n    swedish: require('drawable/languages_swedish.png'),\n    thai: require('drawable/languages_thai.png'),\n    turkish: require('drawable/languages_turkish.png'),\n    urdu: require('drawable/languages_urdu.png'),\n    vietnamese: require('drawable/languages_vietnamese.png')\n  },\n  chapters: {\n    adjectives: require('drawable/chapters_adjectives.svg'),\n    date: require('drawable/chapters_date.svg'),\n    greetings: require('drawable/chapters_greetings.svg'),\n    life_choices: require('drawable/chapters_life_choices.svg'),\n    possessive: require('drawable/chapters_possessive.svg'),\n    restaurant: require('drawable/chapters_restaurant.svg'),\n    shopping: require('drawable/chapters_shopping.svg'),\n    tenses: require('drawable/chapters_tenses.svg'),\n    travel: require('drawable/chapters_travel.svg')\n  },\n  sections: {\n    beginner: require('drawable/sections_beginner.svg'),\n    intermediate: require('drawable/sections_intermediate.svg'),\n    advanced: require('drawable/sections_advanced.svg')\n  }\n}\n","const WEIGHTS = [\"normal\", \"medium\", \"bold\"]\nconst SIZES = Array.from({ length : 32 }).map((_, i) => i + 8)\nexport default WEIGHTS.reduce((font, weight) => {\n  return SIZES.reduce((font, size) => {\n    return Object.assign({}, font, {\n      [`${weight}_${size}`] : {\n        weight,\n        size\n      }\n    })\n  }, font)\n}, {})\n","import drawable from \"drawable\"\nimport style from \"style\"\n\nexport default function (state) {\n  const {\n    container,\n    background,\n    padding,\n    position,\n    text,\n    round,\n    onClick,\n    anchor,\n    start,\n    src,\n    style,\n    linear,\n    textColor,\n    WRAP,\n    MATCH,\n    PERCENT,\n    textAlign,\n    button\n  } = this;\n  background(\"#2196f3\")\n  container(PERCENT(40), WRAP, () => {\n    anchor(.5, .5)\n    position(.5, .25)\n    src(drawable.logos.lexicon_white)\n  })\n  container(WRAP, WRAP, () => {\n    linear(16)\n    anchor(.5, .5)\n    position(.5, .5)\n    container(WRAP, WRAP, () => {\n      anchor(.5, 0)\n      position(.5, 0)\n      textColor(\"white\")\n      text(\"Lexicon\")\n      style(style.bold_34)\n    })\n    container(WRAP, WRAP, () => {\n      text(\"Your language learning buddy\")\n      textColor(\"white\")\n      style(style.bold_20)\n    })\n  })\n  container(PERCENT(50), WRAP, () => {\n    linear(16)\n    anchor(.5, .5)\n    position(.5, .75)\n    container(MATCH, WRAP, () => {\n      button(\"#673ab7\")\n      text(\"GET STARTED\")\n      onClick(() => {\n        start(LanguagePicker, state)\n      })\n    })\n    container(MATCH, WRAP, () => {\n      text(\"LOGIN\")\n      button()\n      onClick(() => {\n        start(Login)\n      })\n    })\n  })\n}\n","const slight_round = 4\nconst EMPTY_ARRAY = [0, 0, 0, 0]\nconst COMPLEMENTARY_DIMENSIONS = {\n  width : 'x',\n  height : 'y',\n  x : 'width',\n  y : 'height'\n}\nconst OPPOSITE_DIMENSIONS = {\n  x : \"y\",\n  y : \"x\",\n  width : \"height\",\n  height : \"width\"\n}\nconst DIMENSIONS = {\n  x : \"width\",\n  y : \"height\",\n  width : \"height\",\n  height : \"width\"\n}\nconst LINE_SPACING = 8\n\nfunction roundRect(context, x, y, width, height, radius, fill, stroke) {\n  radius = { tl: radius, tr: radius, br: radius, bl: radius };\n  context.beginPath();\n  context.moveTo(x + radius.tl, y);\n  context.lineTo(x + width - radius.tr, y);\n  context.quadraticCurveTo(x + width, y, x + width, y + radius.tr);\n  context.lineTo(x + width, y + height - radius.br);\n  context.quadraticCurveTo(\n    x + width,\n    y + height,\n    x + width - radius.br,\n    y + height\n  );\n  context.lineTo(x + radius.bl, y + height);\n  context.quadraticCurveTo(x, y + height, x, y + height - radius.bl);\n  context.lineTo(x, y + radius.tl);\n  context.quadraticCurveTo(x, y, x + radius.tl, y);\n  context.closePath();\n  if(fill) {\n    context.fillStyle = fill;\n    context.fill();\n  }\n  if(stroke) {\n    context.strokeStyle = stroke;\n    context.stroke();\n  }\n}\n\nconst getValue = (view, dim) => {\n  if (typeof view[dim] === \"function\") {\n    return view[dim](view, dim);\n  } else {\n    return view[dim];\n  }\n};\n\nconst getTopBottom = r => {\n  return r instanceof Array ? r[0] + r[2] : 0;\n};\n\nconst getLeftRight = r => {\n  return r instanceof Array ? r[1] + r[3] : 0;\n};\n\nconst getName = view => view.text.display || view.image || `(${view.children.map(getName)})`;\n\nconst reposition = view => {\n  const padding = view.parent.padding instanceof Array ? view.parent.padding : EMPTY_ARRAY\n  const margin = view.parent.margin instanceof Array ? view.parent.margin : EMPTY_ARRAY\n  return {\n    x : view.parent.bounds.x + padding[3] + margin[3] + view.x + (view.parent.scrollX || 0),\n    y : view.parent.bounds.y + padding[0] + margin[0] + view.y + (view.parent.scrollY || 0)\n  }\n}\n\nfunction Screen(canvas) {\n\n  this.textbox = document.createElement(\"input\")\n  document.body.appendChild(this.textbox)\n  this.textbox.onblur = e => {\n    const view = this.textbox.view\n    if(view) {\n      this.textbox.view = null\n      view.textbox = null\n      this.render()\n    }\n  }\n  this.textbox.oninput = e => {\n    const view = this.textbox.view\n    if(view) {\n      view.text.display = this.textbox.value\n      this.render()\n    }\n  }\n\n  this.children = [];\n  this.active = this;\n  this.canvas = canvas;\n  this.bounds = {\n    x : 0, y : 0,\n    width : canvas.width, height : canvas.height\n  }\n  this.intersection = {\n    left : 0, top : 0, right : canvas.width, bottom : canvas.height,\n    x : 0, y : 0, width : canvas.width, height : canvas.height\n  }\n  this.context = canvas.getContext(\"2d\");\n  this.bind();\n\n  const getMouse = (e, name) => {\n    const bounds = canvas.getBoundingClientRect();\n    return {\n      x : e.pageX - bounds.left,\n      y : e.pageY - bounds.top,\n      name\n    }\n  }\n\n  this.last = []\n  const call = (e, name) => {\n    const mouse = getMouse(e, name)\n    const mouseOver = this.mouseOver(mouse, this);\n    this.last.forEach(view => {\n      if(!mouseOver.contains(view)) {\n        view.onMouseOut && view.onMouseOut(getMouse(e, \"onMouseOut\"))\n      }\n    })\n    mouseOver.forEach(view => {\n      if(!this.last.contains(view)) {\n        view.onMouseIn && view.onMouseIn(getMouse(e, \"onMouseIn\"))\n      }\n    })\n    this.last = mouseOver\n    let view = mouseOver[mouseOver.length - 1]\n    while (view && !view[name]) {\n      view = view.parent;\n    }\n    if(view && view !== this) {\n      view[name](mouse)\n    }\n  }\n\n  let moved\n  canvas.onmousedown = e => {\n    moved = 0\n    call(e, \"onMouseDown\")\n  }\n\n  canvas.onmouseout = e => {\n    const mouse = getMouse(e, \"onMouseOut\")\n    this.last.forEach(view => {\n      view.onMouseOut && view.onMouseOut(mouse)\n    })\n    this.last = []\n  }\n\n  canvas.onmousemove = e => {\n    moved++\n    call(e, \"onMouseMove\")\n  }\n\n  canvas.onmouseup = e => {\n    call(e, \"onMouseUp\")\n  }\n\n  canvas.onclick = e => {\n    if(moved < 5) {\n      call(e, \"onClick\")\n    }\n  };\n}\n\nScreen.prototype = {\n  mouseOver(mouse, view) {\n    return view.children.reduce((mouseOver, child) => {\n      const {\n        x,\n        y,\n        width,\n        height\n      } = child.bounds\n      const margin = child.margin || EMPTY_ARRAY\n      child.render(\n        this.context,\n        x + margin[3],\n        y + margin[0],\n        width - getLeftRight(margin),\n        height - getTopBottom(margin),\n        getValue(child, \"round\")\n      );\n      if (child.isInBounds && this.context.isPointInPath(mouse.x, mouse.y)) {\n        return mouseOver.concat([child]).concat(this.mouseOver(mouse, child))\n      }\n      return mouseOver\n    }, [])\n  },\n  PERCENT(percent) {\n    return dim => view => {\n      const vp = this.getViewPortSize(view.parent)\n      return {\n        [dim] : vp[OPPOSITE_DIMENSIONS[DIMENSIONS[dim]]] * percent / 100\n      }\n    }\n  },\n  MATCH(dim) {\n    return view => {\n      const vp = this.getViewPortSize(view.parent)\n      switch(dim) {\n        case \"width\" :\n           return {\n             width : vp.width\n           }\n        case \"height\" :\n           return {\n             height : vp.height\n           }\n      }\n    }\n  },\n  WRAP: (function() {\n    const canvas = document.createElement(\"canvas\");\n    const context = canvas.getContext(\"2d\");\n    return dim => view => {\n      const spaceAround = {\n        width : getLeftRight(view.padding) + getLeftRight(view.margin),\n        height : getTopBottom(view.padding) + getTopBottom(view.margin)\n      }[dim]\n      if(view.image) {\n        const imageBounds = {\n          width : view.image.width || view.image.naturalWidth,\n          height : view.image.height || view.image.naturalHeight\n        }\n        const other = OPPOSITE_DIMENSIONS[dim]\n        const opposite = Math.max(0, view.bounds[other] - spaceAround) / imageBounds[other] * imageBounds[dim]\n        return {\n          [dim] : (opposite || view.image[dim]) + spaceAround\n        }\n      } else if (view.children.length) {\n        return {\n          [dim] : Math.max(...view.children.map(\n            child =>\n              child[COMPLEMENTARY_DIMENSIONS[dim]] + //child.x\n              //child.bounds[COMPLEMENTARY_DIMENSIONS[dim]] + //child.bounds.x\n              child.bounds[dim] + //child.bounds.width\n              spaceAround\n          ))\n        }\n      } else if (view.text.display || view.input) {\n        if (dim === \"width\") {\n          context.font = `${view.text.size}px sans-serif`;\n          return {\n            width : Math.max(...view.text.display.split(\"\\n\").map(display => context.measureText(display).width)) + spaceAround\n          }\n        } else if (dim === \"height\") {\n          const count = view.text.display.split(\"\\n\").length\n          return {\n            height : (\n              view.text.size * count + LINE_SPACING * (count - 1) + spaceAround\n            )\n          }\n        }\n      }\n      return {\n        [dim] : spaceAround\n      }\n    };\n  })(),\n  container(width, height, render) {\n    const parent = this.active;\n    const child = {\n      render : roundRect,\n      round : 0,\n      //margin\n      //padding\n      //background\n      //onClick\n      managers : [\n        typeof width === \"function\" ? width(\"width\") : () => ({ width }),\n        typeof height === \"function\" ? height(\"height\") : () => ({ height }),\n        reposition\n      ],\n      overflow : true,\n      parent,\n      alpha : 1,\n      x : 0,\n      y : 0,\n      width : 0,\n      height : 0,\n      bounds : {\n        x : 0,\n        y : 0,\n        width : 0,\n        height : 0\n      },\n      scrollX : 0,\n      scrollY : 0,\n      children: [],\n      text: {\n        //display\n        size: 12,\n        color: \"black\",\n        weight : 'normal',\n        align : \"left\"\n      }\n    };\n    parent.children.push(child);\n    this.active = child;\n    render(child);\n    this.active = parent;\n    return child\n  },\n  style(text) {\n    if(text.size) {\n      this.active.text.size = text.size\n    }\n  },\n  getViewPortSize(view) {\n    return {\n      width : view.bounds.width - getLeftRight(view.padding) - getLeftRight(view.margin),\n      height : view.bounds.height - getTopBottom(view.padding) - getTopBottom(view.margin)\n    }\n  },\n  position(x, y) {\n    this.active.managers.push(view => {\n      const vp = this.getViewPortSize(view.parent)\n      return {\n        x : vp.width * x,\n        y : vp.height * y\n      }\n    })\n  },\n  anchor(x, y) {\n    this.active.managers.push(view => ({\n      x : -Math.max(view.bounds.width, 0) * x,\n      y : -Math.max(view.bounds.height, 0) * y\n    }))\n  },\n  visibility(visible) {\n    this.active.hidden = !visible\n  },\n  animateVisibility(visible) {\n    const view = this.active\n    if(visible) {\n      view.hidden = false\n      this.animate({\n        alpha : view.alpha\n      }, {\n        alpha : 1\n      }, this.firstRender ? 0 : 300)\n    } else {\n      this.animate({\n        alpha : view.alpha\n      }, {\n        alpha : 0\n      }, this.firstRender ? 0 : 300, () => {\n        view.hidden = true\n      })\n    }\n  },\n  timeout(callback, ms) {\n    const active = this.active\n    setTimeout(() => {\n      this.active = active\n      callback()\n      this.render()\n    }, ms)\n  },\n  margin(...margin) {\n    if(margin.length === 1) {\n      this.active.margin = [margin[0], margin[0], margin[0], margin[0]]\n    } else {\n      this.active.margin = margin;\n    }\n  },\n  padding(...padding) {\n    if(padding.length === 1) {\n      this.active.padding = [padding[0], padding[0], padding[0], padding[0]]\n    } else {\n      this.active.padding = padding;\n    }\n  },\n  background(background) {\n    this.active.background = background;\n  },\n  onClick(onClick) {\n    this.active.onClick = onClick;\n  },\n  text(display) {\n    this.active.text.display = display;\n  },\n  round(round) {\n    this.active.round = round;\n  },\n  shadow(shadow = true) {\n    this.active.shadow = shadow;\n  },\n  src(image) {\n    this.active.image = image;\n  },\n  textColor(textColor) {\n    this.active.text.color = textColor\n  },\n  textAlign(align) {\n    this.active.text.align = align\n  },\n  input(input = \"text\") {\n    const view = this.active\n    view.input = input\n    view.overflow = false\n    view.onClick = () => {\n      view.textbox = this.textbox\n      this.textbox.view = view\n      this.textbox.value = view.text.display\n      this.textbox.type = input\n      this.render()\n    }\n  },\n  animate(from, to, ms, cb) {\n    const view = this.active\n    const start = Date.now()\n    const handler = (now = Date.now()) => {\n      const percent =  Math.min((now - start) / ms, 1)\n      const weight = percent\n      Object.keys(from).forEach(key => {\n        view[key] = from[key] + (to[key] - from[key]) * weight\n      })\n      if(percent === 1) {\n        clearInterval(interval)\n        cb && cb()\n      }\n      this.render()\n    }\n    handler(start)\n    const interval = setInterval(handler, 1000 / 60)\n  },\n  start(view, state) {\n    this.firstRender = true\n    this.active = this\n    this.container(this.MATCH, this.MATCH, () => {\n      view.call(this, state)\n      if(this.children.length > 1) {\n        this.animate({\n          alpha : .25,\n          x : this.bounds.width\n        }, {\n          alpha : 1,\n          x : 0\n        }, 300)\n      }\n    })\n    this.render()\n    this.firstRender = false\n    return this\n  },\n  back() {\n    if(this.children.length > 1) {\n      this.active = this.children[this.children.length - 1]\n      this.animate({\n        alpha : 1,\n        x : 0\n      }, {\n        alpha : .25,\n        x : this.bounds.width\n      }, 300, () => {\n        this.children.pop()\n      })\n    } else {\n      console.log(\"TODO\")\n    }\n  },\n  separator() {\n    this.active.separator = true\n  },\n  linear(spacing = 0, direction = 'vertical') {\n    this.active.managers.unshift(view => {\n      const weight = view.children.reduce((weight, child) => weight + (child.weight || 0), 0)\n      if(weight) {\n        const dim = direction === \"vertical\" ? \"height\" : \"width\"\n        const vp = this.getViewPortSize(view)\n        const span = view.bounds[dim]\n        const space = view.children.reduce((space, child) => {\n          return space - (child.weight ? 0 : child.bounds[dim])\n        }, vp[dim] - spacing * (view.children.length - 1))\n        view.children.forEach(child => {\n          if(child.weight) {\n            child[dim] = (child.weight / weight) * space\n          }\n        })\n      }\n      view.children.forEach((child, index) => {\n        if(index) {\n          const previous = view.children[index - 1]\n          if(direction === 'vertical') {\n            child.y = previous.y + previous.bounds.height + spacing\n          } else if(direction === 'horizontal') {\n            child.x = previous.x + previous.bounds.width + spacing\n          }\n        }\n      })\n      return {}\n    })\n  },\n  weight(weight) {\n    this.active.weight = weight\n  },\n  render() {\n    this.textbox.style.display = \"none\"\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height)\n    this.children.forEach(child => {\n      this.layoutView(child)\n      this.renderView(child)\n    });\n    const ctx = this.context\n    const cvs = this.canvas\n    ctx.beginPath()\n\n    ctx.moveTo(0,0)\n    ctx.lineTo(cvs.width,0)\n    ctx.lineTo(cvs.width,cvs.height)\n    ctx.lineTo(0, cvs.height)\n    ctx.lineTo(0, 0)\n\n    ctx.moveTo(cvs.width / 4, cvs.height / 4)\n    ctx.lineTo(3 * cvs.width / 4, cvs.height / 4)\n    ctx.lineTo(3 * cvs.width / 4, 3 * cvs.height / 4)\n    ctx.lineTo(cvs.width / 4, 3 * cvs.height / 4)\n    ctx.lineTo(cvs.width / 4, cvs.height / 4)\n    ctx.fillStyle=\"rgba(0,0,0,.7)\"\n    ctx.fill()\n  },\n  scrollable() {\n    const active = this.active\n    active.overflow = false\n    let lastMouse, lastTs = Date.now(), dx = 0, dy = 0\n    setInterval(() => {\n      const now = Date.now()\n      const dt = (now - lastTs) / 1000\n      lastTs = now\n      dx /= 1.2\n      if(Math.abs(dx) < 1) {\n        dx = 0\n      }\n      dy /= 1.2\n      if(Math.abs(dy) < 1) {\n        dy = 0\n      }\n      if(!lastMouse && (dx || dy)) {\n        update()\n      }\n    }, 1000 / 60)\n    const update = () => {\n      const right = Math.max(0, ...active.children.map(child => child.bounds.x + child.bounds.width - (active.bounds.x + active.bounds.width + active.scrollX)))\n      const bottom = Math.max(0, ...active.children.map(child => child.bounds.y + child.bounds.height - (active.bounds.y + active.bounds.height + active.scrollY)))\n      active.scrollX = Math.max(Math.min(active.scrollX + dx, 0), -right)\n      active.scrollY = Math.max(Math.min(active.scrollY + dy, 0), -bottom)\n      this.render()\n    }\n    active.onMouseMove = function(mouse) {\n      if(lastMouse) {\n        dx = mouse.x - lastMouse.x\n        dy = mouse.y - lastMouse.y\n        update()\n        lastMouse = mouse\n      }\n    }\n    active.onMouseDown = function(mouse) {\n      lastMouse = mouse\n    }\n    active.onMouseUp = active.onMouseOut = function(mouse) {\n      lastMouse = null\n    }\n  },\n  getIntersection(view) {\n    const parent = view.parent\n    const intersection = {\n      x : Math.max(parent.intersection.x, view.bounds.x),\n      y : Math.max(parent.intersection.y, view.bounds.y)\n    }\n    intersection.left = intersection.x\n    intersection.top = intersection.y\n    intersection.right = Math.min(parent.intersection.x + parent.intersection.width, view.bounds.x + view.bounds.width)\n    intersection.bottom = Math.min(parent.intersection.y + parent.intersection.height, view.bounds.y + view.bounds.height)\n    intersection.width = intersection.right - intersection.left\n    intersection.height = intersection.bottom - intersection.top\n    view.intersection = intersection\n    //then check if its in bounds\n    view.isInBounds = intersection.width > 0 && intersection.height > 0 && !view.hidden\n  },\n  layoutView(view) {\n    const bounds = view.hidden ? {x:0,y:0,width:0,height:0} : view.managers.reduce((bounds, manager) => {\n      const wrapper = manager(view)\n      const current = typeof wrapper === \"function\" ? wrapper(view) : wrapper\n      return {\n        x : Math.round((current.x || 0) + bounds.x),\n        y : Math.round((current.y || 0) + bounds.y),\n        width : Math.round((current.width || 0) + bounds.width),\n        height : Math.round((current.height || 0) + bounds.height)\n      }\n    }, {\n      x : 0,\n      y : 0,\n      width : view.width,\n      height : view.height\n    })\n    const moved = !equals(view.bounds, bounds)\n    view.bounds = bounds\n    if(moved) {\n      this.layoutView(view)\n    } else {\n      this.getIntersection(view)\n    }\n    if(view.children.length) {\n      if(view.children.reduce((moved, child) => this.layoutView(child) || moved, false)) {\n        this.layoutView(view)\n        return true\n      }\n    }\n    return moved\n  },\n  renderView(view) {\n    if(view.isInBounds) {\n      this.context.save()\n      this.context.globalAlpha = this.context.globalAlpha * view.alpha\n      const x = view.bounds.x\n      const y = view.bounds.y\n      const width = view.bounds.width\n      const height = view.bounds.height\n      const hw = width / 2\n      const hh = height / 2\n      const margin = view.margin || EMPTY_ARRAY\n      const padding = view.padding || EMPTY_ARRAY\n      const mw = width - getLeftRight(margin);\n      const mh = height - getTopBottom(margin);\n\n      if(view.shadow) {\n        const shadow = 2\n        this.context.shadowColor = 'rgba(0, 0, 0, .7)';\n        this.context.shadowBlur = shadow;\n        this.context.shadowOffsetX = shadow;\n        this.context.shadowOffsetY = shadow;\n      }\n      view.render(\n        this.context,\n        x + margin[3],\n        y + margin[0],\n        mw,\n        mh,\n        getValue(view, \"round\"),\n        view.background || \"transparent\"\n      )\n      this.context.shadowColor = 'transparent';\n      this.context.shadowBlur = 0;\n      this.context.shadowOffsetX = 0;\n      this.context.shadowOffsetY = 0;\n      //DEBUG HERE\n      if(false) {\n        this.context.translate(x, y)\n        //padding\n        if(padding) {\n          this.context.fillStyle = \"rgba(0, 255, 0, .7)\"\n          //top\n          this.context.fillRect(margin[3], margin[0], width - (margin[3] + margin[1]), padding[0])\n          //left\n          this.context.fillRect(margin[3], margin[0] + padding[0], padding[3], height - (margin[0] + margin[2] + padding[0]))\n          //right\n          this.context.fillRect(width - margin[1] - padding[1], margin[0] + padding[0], padding[1], height - (margin[0] + margin[2] + padding[0]))\n          //bottom\n          this.context.fillRect(margin[3] + padding[3], height - margin[2] - padding[2], width - (margin[3] + padding[3] + margin[1] + padding[1]), padding[2])\n        }\n        //margin\n        if(margin) {\n          this.context.fillStyle = \"rgba(0, 0, 255, .7)\"\n          //top\n          this.context.fillRect(0, 0, width, margin[0])\n          //left\n          this.context.fillRect(0, margin[0], margin[3], height - margin[0])\n          //right\n          this.context.fillRect(width - margin[1], margin[0], margin[1], height - margin[0])\n          //bottom\n          this.context.fillRect(margin[3], height - margin[2], width - margin[1] - margin[3], margin[2])\n        }\n        //outline\n        this.context.strokeStyle = \"rgba(0, 0, 0, .7)\"\n        this.context.setLineDash([2, 4])\n        this.context.strokeRect(0, 0, width, height)\n        this.context.setLineDash([])\n        this.context.translate(-x, -y)\n      }\n      if(view.image && view.image.complete) {\n        this.context.drawImage(view.image, x + padding[3], y + padding[0], mw - getLeftRight(padding), mh - getTopBottom(padding))\n      }\n      //STOP DEBUG\n      if(!view.overflow) {\n        this.context.clip()\n      }\n      if(view.textbox) {\n        view.textbox.style.display = \"block\"\n        view.textbox.style.left = `${view.bounds.x}px`\n        view.textbox.style.top = `${view.bounds.y}px`\n        view.textbox.style.width = `${view.bounds.width}px`\n        view.textbox.style.height = `${view.bounds.height}px`\n        if(this.textbox !== document.activeElement) {\n          this.textbox.focus()\n        }\n      }\n      if (view.text.display) {\n        const offset = view.textbox ? view.textbox.scrollLeft : 0\n        this.context.fillStyle = view.text.color;\n        this.context.font = `${view.text.size}px sans-serif`;\n        this.context.textBaseline = \"top\";\n        this.context.textAlign = view.text.align;\n        const lines = view.text.display.split(\"\\n\")\n        lines.forEach((line, index) => {\n          let offsetX = 0\n          switch(this.context.textAlign) {\n            case \"right\" : offsetX = width - getLeftRight(padding); break;\n            case \"center\" : offsetX = mw / 2 - padding[3]; break;\n          }\n          // \\u25CF\n          // \\u2022\n          this.context.fillText(\n            view.input === \"password\" ? line.split(\"\").map(it => '\\u2022').join(\"\") : line,\n            x + offsetX + padding[3] - offset,\n            y + index * (view.text.size + LINE_SPACING) + padding[0]\n          );\n        })\n      }\n      view.children.forEach((child, index) => {\n        this.renderView(child)\n        if(index > 0 && view.separator) {\n          this.context.beginPath()\n          this.context.moveTo(\n            child.bounds.x,\n            child.bounds.y\n          )\n          this.context.lineTo(\n            child.bounds.x + child.bounds.width,\n            child.bounds.y\n          )\n          this.context.strokeStyle = \"rgba(0, 0, 0, .7)\"\n          this.context.stroke()\n        }\n      });\n      this.context.globalAlpha = this.context.globalAlpha / view.alpha\n      this.context.restore()\n    }\n  },\n  button(color) {\n    this.textAlign(\"center\")\n    this.padding(16)\n    this.textColor(\"white\")\n    if(color) {\n      this.round(child => Math.min(child.bounds.width / 2, child.bounds.height / 2))\n      this.background(color)\n    }\n  },\n  card() {\n    this.background(\"white\")\n    this.round(slight_round)\n    this.shadow()\n  },\n  tabs(...tabs) {\n    const tab$ = new Observable(0)\n    this.container(this.MATCH, this.WRAP, container => {\n      this.container(this.MATCH, this.WRAP, () => {\n        this.linear(0, \"horizontal\")\n        tabs.forEach((text, index) => {\n          this.container(0, this.WRAP, () => {\n            this.textColor(index ? \"black\" : \"white\")\n            this.padding(16)\n            this.weight(1)\n            this.text(text)\n            this.style(normal_12)\n            this.textAlign(\"center\")\n            this.onClick(() => tab$.set(index))\n          })\n        })\n      })\n      const indicator = this.container(dim => view => ({\n        width : view.parent.bounds.width / tabs.length\n      }), 5, () => {\n        this.position(0, 1)\n        this.anchor(0, 1)\n        this.background(\"gold\")\n      })\n      tab$.observe(tab => {\n        container.children[0].children.forEach(child => {\n          child.text.color = \"black\"\n        })\n        container.children[0].children[tab].text.color = \"white\"\n        this.active = indicator\n        this.animate({\n          x : indicator.x\n        }, {\n          x : tab * container.bounds.width / tabs.length\n        }, 300)\n      })\n    })\n    return tab$\n  },\n  observe(...args) {\n    const observables$ = args\n    const callback = observables$.pop()\n    const view = this.active\n    observables$.forEach((observable$, i) => {\n      observable$.observe(Observable.skipFirst(observable => {\n        this.active = view\n        const values = observables$.map(it => it.get())\n        values[i] = observable\n        callback(...values)\n      }))\n    })\n    callback(...observables$.map(it => it.get()))\n  },\n  bind() {\n    for (var i in this) {\n      if (typeof this[i] === \"function\") {\n        this[i] = this[i].bind(this);\n      }\n    }\n  }\n};\nexport default Screen\n","import \"./prototype\"\nimport Splash from \"./views/splash\"\nimport Screen from \"./rave/screen\"\nnew Screen(document.getElementsByTagName(\"canvas\")[0]).start(Splash);\n"]}