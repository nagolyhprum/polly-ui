{"version":3,"sources":["js/prototype.js","js/views/res/drawable/index.js","js/views/splash.js","js/rave/screen.js","js/index.js"],"names":["Array","prototype","contains","item","indexOf","account","phrase","apple","require","banana","beer","chopsticks","clock","coffee","egg","eight","five","four","half","nine","one","red_wine","seven","six","three","twenty_five","two","white_wine","star","normal","filled","blue","streak","highlighted","hollow","download","complete","phrases","logos","lexicon_blue","lexicon_white","google","facebook","icons","lexicon_celebrate","down","report_blue","share","forward","play","menu","tip","skip","ignore","report","mic_off_black","volume_off_black","pause_blue","record_blue_inactive","play_blue_inactive","badge","test_audio","test_all","test_favorites","back","back_white","search","clear","clear_gray","add_white","settings","group","question_mark","profile","check_blue","add_black","languages","english","chinese_cantonese","chinese_mandarin","polish","spanish","arabic","bengali","catalan","czech","danish","dutch","filipino","finnish","french","german","greek","gujrati","hebrew","hindi","indonesian","italian","japanese","korean","persian","portuguese","russian","slovak","swedish","thai","turkish","urdu","vietnamese","chapters","adjectives","date","greetings","life_choices","possessive","restaurant","shopping","tenses","travel","sections","beginner","intermediate","advanced","state","container","background","padding","position","text","round","onClick","anchor","start","src","style","linear","textColor","WRAP","MATCH","PERCENT","textAlign","button","drawable","bold_34","bold_20","LanguagePicker","Login","slight_round","EMPTY_ARRAY","COMPLEMENTARY_DIMENSIONS","width","height","x","y","OPPOSITE_DIMENSIONS","DIMENSIONS","LINE_SPACING","roundRect","context","radius","fill","stroke","tl","tr","br","bl","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","fillStyle","strokeStyle","getValue","view","dim","getTopBottom","r","getLeftRight","getName","display","image","children","map","reposition","parent","margin","bounds","scrollX","scrollY","Screen","canvas","textbox","document","createElement","body","appendChild","onblur","render","oninput","value","active","intersection","left","top","right","bottom","getContext","bind","getMouse","e","name","getBoundingClientRect","pageX","pageY","last","call","mouse","mouseOver","forEach","onMouseOut","onMouseIn","length","moved","onmousedown","onmouseout","onmousemove","onmouseup","onclick","reduce","child","isInBounds","isPointInPath","concat","percent","vp","getViewPortSize","spaceAround","imageBounds","naturalWidth","naturalHeight","other","opposite","Math","max","input","font","size","split","measureText","count","managers","overflow","alpha","color","weight","align","push","visibility","visible","hidden","animateVisibility","animate","firstRender","timeout","callback","ms","setTimeout","shadow","type","from","to","cb","Date","now","handler","min","Object","keys","key","clearInterval","interval","setInterval","pop","console","log","separator","spacing","direction","unshift","span","space","index","previous","clearRect","layoutView","renderView","ctx","cvs","scrollable","lastMouse","lastTs","dx","dy","dt","abs","update","onMouseMove","onMouseDown","onMouseUp","getIntersection","manager","wrapper","current","equals","save","globalAlpha","hw","hh","mw","mh","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","translate","fillRect","setLineDash","strokeRect","drawImage","clip","activeElement","focus","offset","scrollLeft","textBaseline","lines","line","offsetX","fillText","join","restore","card","tabs","tab$","Observable","normal_12","set","indicator","observe","tab","args","observables$","observable$","i","skipFirst","values","it","get","observable","getElementsByTagName","Splash"],"mappings":"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","file":"js.78c9be0b.map","sourceRoot":"..","sourcesContent":["Array.prototype.contains = function(item) {\n  return this.indexOf(item) !== -1\n}\n","export default {\n  account: {},\n  phrase: {\n    apple: require('drawable/phrase_apple.svg'),\n    banana: require('drawable/phrase_banana.svg'),\n    beer: require('drawable/phrase_beer.svg'),\n    chopsticks: require('drawable/phrase_chopsticks.svg'),\n    clock: require('drawable/phrase_clock.svg'),\n    coffee: require('drawable/phrase_coffee.svg'),\n    egg: require('drawable/phrase_egg.svg'),\n    eight: require('drawable/phrase_eight.svg'),\n    five: require('drawable/phrase_five.svg'),\n    four: require('drawable/phrase_four.svg'),\n    half: require('drawable/phrase_half.svg'),\n    nine: require('drawable/phrase_nine.svg'),\n    one: require('drawable/phrase_one.svg'),\n    red_wine: require('drawable/phrase_red_wine.svg'),\n    seven: require('drawable/phrase_seven.svg'),\n    six: require('drawable/phrase_six.svg'),\n    three: require('drawable/phrase_three.svg'),\n    twenty_five: require('drawable/phrase_twenty_five.svg'),\n    two: require('drawable/phrase_two.svg'),\n    white_wine: require('drawable/phrase_white_wine.svg')\n  },\n  star: {\n    normal: require('drawable/star_normal.svg'),\n    filled: require('drawable/star_filled.svg'),\n    blue: require('drawable/star_blue.svg')\n  },\n  streak: {\n    normal: require('drawable/streak_normal.svg'),\n    highlighted: require('drawable/streak_highlighted.svg'),\n    filled: require('drawable/streak_filled.svg'),\n    hollow: require('drawable/streak_hollow.svg')\n  },\n  download: {\n    complete: require('drawable/download_complete.svg'),\n    normal: require('drawable/download_normal.svg')\n  },\n  phrases: {\n    normal: require('drawable/phrases_normal.svg')\n  },\n  logos: {\n    lexicon_blue: require('drawable/logos_lexicon_blue.svg'),\n    lexicon_white: require('drawable/logos_lexicon_white.svg'),\n    google: require('drawable/logos_google.svg'),\n    facebook: require('drawable/logos_facebook.svg')\n  },\n  icons: {\n    lexicon_celebrate: require('drawable/icons_lexicon_celebrate.svg'),\n    down: require('drawable/icons_down.svg'),\n    report_blue: require('drawable/icons_report_blue.svg'),\n    share: require('drawable/icons_share.svg'),\n    forward: require('drawable/icons_forward.svg'),\n    play: require('drawable/icons_play.svg'),\n    menu: require('drawable/icons_menu.svg'),\n    tip: require('drawable/icons_tip.svg'),\n    skip: require('drawable/icons_skip.svg'),\n    ignore: require('drawable/icons_ignore.svg'),\n    report: require('drawable/icons_report.svg'),\n    mic_off_black: require('drawable/icons_mic_off_black.svg'),\n    volume_off_black: require('drawable/icons_volume_off_black.svg'),\n    pause_blue: require('drawable/icons_pause_blue.svg'),\n    record_blue_inactive: require('drawable/icons_record_blue_inactive.svg'),\n    play_blue_inactive: require('drawable/icons_play_blue_inactive.svg'),\n    badge: require('drawable/icons_badge.svg'),\n    test_audio: require('drawable/icons_test_audio.svg'),\n    test_all: require('drawable/icons_test_all.svg'),\n    test_favorites: require('drawable/icons_test_favorites.svg'),\n    back: require('drawable/icons_back.svg'),\n    back_white: require('drawable/icons_back_white.svg'),\n    search: require('drawable/icons_search.svg'),\n    clear: require('drawable/icons_clear.svg'),\n    clear_gray: require('drawable/icons_clear_gray.svg'),\n    add_white: require('drawable/icons_add_white.svg'),\n    account: require('drawable/icons_account.svg'),\n    settings: require('drawable/icons_settings.svg'),\n    group: require('drawable/icons_group.svg'),\n    question_mark: require('drawable/icons_question_mark.svg'),\n    profile: require('drawable/icons_profile.svg'),\n    check_blue: require('drawable/icons_check_blue.svg'),\n    add_black: require('drawable/icons_add_black.svg')\n  },\n  languages: {\n    // SVGS\n    english: require('drawable/languages_english.svg'),\n    chinese_cantonese: require('drawable/languages_chinese_cantonese.svg'),\n    chinese_mandarin: require('drawable/languages_chinese_mandarin.svg'),\n    polish: require('drawable/languages_polish.svg'),\n    spanish: require('drawable/languages_spanish.svg'),\n    // PNGS\n    arabic: require('drawable/languages_arabic.png'),\n    bengali: require('drawable/languages_bengali.png'),\n    catalan: require('drawable/languages_catalan.png'),\n    czech: require('drawable/languages_czech.png'),\n    danish: require('drawable/languages_danish.png'),\n    dutch: require('drawable/languages_dutch.png'),\n    filipino: require('drawable/languages_filipino.png'),\n    finnish: require('drawable/languages_finnish.png'),\n    french: require('drawable/languages_french.png'),\n    german: require('drawable/languages_german.png'),\n    greek: require('drawable/languages_greek.png'),\n    gujrati: require('drawable/languages_gujrati.png'),\n    hebrew: require('drawable/languages_hebrew.png'),\n    hindi: require('drawable/languages_hindi.png'),\n    indonesian: require('drawable/languages_indonesian.png'),\n    italian: require('drawable/languages_italian.png'),\n    japanese: require('drawable/languages_japanese.png'),\n    korean: require('drawable/languages_korean.png'),\n    persian: require('drawable/languages_persian.png'),\n    portuguese: require('drawable/languages_portuguese.png'),\n    russian: require('drawable/languages_russian.png'),\n    slovak: require('drawable/languages_slovak.png'),\n    swedish: require('drawable/languages_swedish.png'),\n    thai: require('drawable/languages_thai.png'),\n    turkish: require('drawable/languages_turkish.png'),\n    urdu: require('drawable/languages_urdu.png'),\n    vietnamese: require('drawable/languages_vietnamese.png')\n  },\n  chapters: {\n    adjectives: require('drawable/chapters_adjectives.svg'),\n    date: require('drawable/chapters_date.svg'),\n    greetings: require('drawable/chapters_greetings.svg'),\n    life_choices: require('drawable/chapters_life_choices.svg'),\n    possessive: require('drawable/chapters_possessive.svg'),\n    restaurant: require('drawable/chapters_restaurant.svg'),\n    shopping: require('drawable/chapters_shopping.svg'),\n    tenses: require('drawable/chapters_tenses.svg'),\n    travel: require('drawable/chapters_travel.svg')\n  },\n  sections: {\n    beginner: require('drawable/sections_beginner.svg'),\n    intermediate: require('drawable/sections_intermediate.svg'),\n    advanced: require('drawable/sections_advanced.svg')\n  }\n}\n","import drawable from \"./res/drawable\"\n\nexport default function (state) {\n  const {\n    container,\n    background,\n    padding,\n    position,\n    text,\n    round,\n    onClick,\n    anchor,\n    start,\n    src,\n    style,\n    linear,\n    textColor,\n    WRAP,\n    MATCH,\n    PERCENT,\n    textAlign,\n    button\n  } = this;\n  background(\"#2196f3\")\n  container(PERCENT(40), WRAP, () => {\n    anchor(.5, .5)\n    position(.5, .25)\n    src(drawable.logos.lexicon_white)\n  })\n  container(WRAP, WRAP, () => {\n    linear(16)\n    anchor(.5, .5)\n    position(.5, .5)\n    container(WRAP, WRAP, () => {\n      anchor(.5, 0)\n      position(.5, 0)\n      textColor(\"white\")\n      text(\"Lexicon\")\n      style(bold_34)\n    })\n    container(WRAP, WRAP, () => {\n      text(\"Your language learning buddy\")\n      textColor(\"white\")\n      style(bold_20)\n    })\n  })\n  container(PERCENT(50), WRAP, () => {\n    linear(16)\n    anchor(.5, .5)\n    position(.5, .75)\n    container(MATCH, WRAP, () => {\n      button(\"#673ab7\")\n      text(\"GET STARTED\")\n      onClick(() => {\n        start(LanguagePicker, state)\n      })\n    })\n    container(MATCH, WRAP, () => {\n      text(\"LOGIN\")\n      button()\n      onClick(() => {\n        start(Login)\n      })\n    })\n  })\n}\n","const slight_round = 4\nconst EMPTY_ARRAY = [0, 0, 0, 0]\nconst COMPLEMENTARY_DIMENSIONS = {\n  width : 'x',\n  height : 'y',\n  x : 'width',\n  y : 'height'\n}\nconst OPPOSITE_DIMENSIONS = {\n  x : \"y\",\n  y : \"x\",\n  width : \"height\",\n  height : \"width\"\n}\nconst DIMENSIONS = {\n  x : \"width\",\n  y : \"height\",\n  width : \"height\",\n  height : \"width\"\n}\nconst LINE_SPACING = 8\n\nfunction roundRect(context, x, y, width, height, radius, fill, stroke) {\n  radius = { tl: radius, tr: radius, br: radius, bl: radius };\n  context.beginPath();\n  context.moveTo(x + radius.tl, y);\n  context.lineTo(x + width - radius.tr, y);\n  context.quadraticCurveTo(x + width, y, x + width, y + radius.tr);\n  context.lineTo(x + width, y + height - radius.br);\n  context.quadraticCurveTo(\n    x + width,\n    y + height,\n    x + width - radius.br,\n    y + height\n  );\n  context.lineTo(x + radius.bl, y + height);\n  context.quadraticCurveTo(x, y + height, x, y + height - radius.bl);\n  context.lineTo(x, y + radius.tl);\n  context.quadraticCurveTo(x, y, x + radius.tl, y);\n  context.closePath();\n  if(fill) {\n    context.fillStyle = fill;\n    context.fill();\n  }\n  if(stroke) {\n    context.strokeStyle = stroke;\n    context.stroke();\n  }\n}\n\nconst getValue = (view, dim) => {\n  if (typeof view[dim] === \"function\") {\n    return view[dim](view, dim);\n  } else {\n    return view[dim];\n  }\n};\n\nconst getTopBottom = r => {\n  return r instanceof Array ? r[0] + r[2] : 0;\n};\n\nconst getLeftRight = r => {\n  return r instanceof Array ? r[1] + r[3] : 0;\n};\n\nconst getName = view => view.text.display || view.image || `(${view.children.map(getName)})`;\n\nconst reposition = view => {\n  const padding = view.parent.padding instanceof Array ? view.parent.padding : EMPTY_ARRAY\n  const margin = view.parent.margin instanceof Array ? view.parent.margin : EMPTY_ARRAY\n  return {\n    x : view.parent.bounds.x + padding[3] + margin[3] + view.x + (view.parent.scrollX || 0),\n    y : view.parent.bounds.y + padding[0] + margin[0] + view.y + (view.parent.scrollY || 0)\n  }\n}\n\nfunction Screen(canvas) {\n\n  this.textbox = document.createElement(\"input\")\n  document.body.appendChild(this.textbox)\n  this.textbox.onblur = e => {\n    const view = this.textbox.view\n    if(view) {\n      this.textbox.view = null\n      view.textbox = null\n      this.render()\n    }\n  }\n  this.textbox.oninput = e => {\n    const view = this.textbox.view\n    if(view) {\n      view.text.display = this.textbox.value\n      this.render()\n    }\n  }\n\n  this.children = [];\n  this.active = this;\n  this.canvas = canvas;\n  this.bounds = {\n    x : 0, y : 0,\n    width : canvas.width, height : canvas.height\n  }\n  this.intersection = {\n    left : 0, top : 0, right : canvas.width, bottom : canvas.height,\n    x : 0, y : 0, width : canvas.width, height : canvas.height\n  }\n  this.context = canvas.getContext(\"2d\");\n  this.bind();\n\n  const getMouse = (e, name) => {\n    const bounds = canvas.getBoundingClientRect();\n    return {\n      x : e.pageX - bounds.left,\n      y : e.pageY - bounds.top,\n      name\n    }\n  }\n\n  this.last = []\n  const call = (e, name) => {\n    const mouse = getMouse(e, name)\n    const mouseOver = this.mouseOver(mouse, this);\n    this.last.forEach(view => {\n      if(!mouseOver.contains(view)) {\n        view.onMouseOut && view.onMouseOut(getMouse(e, \"onMouseOut\"))\n      }\n    })\n    mouseOver.forEach(view => {\n      if(!this.last.contains(view)) {\n        view.onMouseIn && view.onMouseIn(getMouse(e, \"onMouseIn\"))\n      }\n    })\n    this.last = mouseOver\n    let view = mouseOver[mouseOver.length - 1]\n    while (view && !view[name]) {\n      view = view.parent;\n    }\n    if(view && view !== this) {\n      view[name](mouse)\n    }\n  }\n\n  let moved\n  canvas.onmousedown = e => {\n    moved = 0\n    call(e, \"onMouseDown\")\n  }\n\n  canvas.onmouseout = e => {\n    const mouse = getMouse(e, \"onMouseOut\")\n    this.last.forEach(view => {\n      view.onMouseOut && view.onMouseOut(mouse)\n    })\n    this.last = []\n  }\n\n  canvas.onmousemove = e => {\n    moved++\n    call(e, \"onMouseMove\")\n  }\n\n  canvas.onmouseup = e => {\n    call(e, \"onMouseUp\")\n  }\n\n  canvas.onclick = e => {\n    if(moved < 5) {\n      call(e, \"onClick\")\n    }\n  };\n}\n\nScreen.prototype = {\n  mouseOver(mouse, view) {\n    return view.children.reduce((mouseOver, child) => {\n      const {\n        x,\n        y,\n        width,\n        height\n      } = child.bounds\n      const margin = child.margin || EMPTY_ARRAY\n      child.render(\n        this.context,\n        x + margin[3],\n        y + margin[0],\n        width - getLeftRight(margin),\n        height - getTopBottom(margin),\n        getValue(child, \"round\")\n      );\n      if (child.isInBounds && this.context.isPointInPath(mouse.x, mouse.y)) {\n        return mouseOver.concat([child]).concat(this.mouseOver(mouse, child))\n      }\n      return mouseOver\n    }, [])\n  },\n  PERCENT(percent) {\n    return dim => view => {\n      const vp = this.getViewPortSize(view.parent)\n      return {\n        [dim] : vp[OPPOSITE_DIMENSIONS[DIMENSIONS[dim]]] * percent / 100\n      }\n    }\n  },\n  MATCH(dim) {\n    return view => {\n      const vp = this.getViewPortSize(view.parent)\n      switch(dim) {\n        case \"width\" :\n           return {\n             width : vp.width\n           }\n        case \"height\" :\n           return {\n             height : vp.height\n           }\n      }\n    }\n  },\n  WRAP: (function() {\n    const canvas = document.createElement(\"canvas\");\n    const context = canvas.getContext(\"2d\");\n    return dim => view => {\n      const spaceAround = {\n        width : getLeftRight(view.padding) + getLeftRight(view.margin),\n        height : getTopBottom(view.padding) + getTopBottom(view.margin)\n      }[dim]\n      if(view.image) {\n        const imageBounds = {\n          width : view.image.width || view.image.naturalWidth,\n          height : view.image.height || view.image.naturalHeight\n        }\n        const other = OPPOSITE_DIMENSIONS[dim]\n        const opposite = Math.max(0, view.bounds[other] - spaceAround) / imageBounds[other] * imageBounds[dim]\n        return {\n          [dim] : (opposite || view.image[dim]) + spaceAround\n        }\n      } else if (view.children.length) {\n        return {\n          [dim] : Math.max(...view.children.map(\n            child =>\n              child[COMPLEMENTARY_DIMENSIONS[dim]] + //child.x\n              //child.bounds[COMPLEMENTARY_DIMENSIONS[dim]] + //child.bounds.x\n              child.bounds[dim] + //child.bounds.width\n              spaceAround\n          ))\n        }\n      } else if (view.text.display || view.input) {\n        if (dim === \"width\") {\n          context.font = `${view.text.size}px sans-serif`;\n          return {\n            width : Math.max(...view.text.display.split(\"\\n\").map(display => context.measureText(display).width)) + spaceAround\n          }\n        } else if (dim === \"height\") {\n          const count = view.text.display.split(\"\\n\").length\n          return {\n            height : (\n              view.text.size * count + LINE_SPACING * (count - 1) + spaceAround\n            )\n          }\n        }\n      }\n      return {\n        [dim] : spaceAround\n      }\n    };\n  })(),\n  container(width, height, render) {\n    const parent = this.active;\n    const child = {\n      render : roundRect,\n      round : 0,\n      //margin\n      //padding\n      //background\n      //onClick\n      managers : [\n        typeof width === \"function\" ? width(\"width\") : () => ({ width }),\n        typeof height === \"function\" ? height(\"height\") : () => ({ height }),\n        reposition\n      ],\n      overflow : true,\n      parent,\n      alpha : 1,\n      x : 0,\n      y : 0,\n      width : 0,\n      height : 0,\n      bounds : {\n        x : 0,\n        y : 0,\n        width : 0,\n        height : 0\n      },\n      scrollX : 0,\n      scrollY : 0,\n      children: [],\n      text: {\n        //display\n        size: 12,\n        color: \"black\",\n        weight : 'normal',\n        align : \"left\"\n      }\n    };\n    parent.children.push(child);\n    this.active = child;\n    render(child);\n    this.active = parent;\n    return child\n  },\n  style(text) {\n    if(text.size) {\n      this.active.text.size = text.size\n    }\n  },\n  getViewPortSize(view) {\n    return {\n      width : view.bounds.width - getLeftRight(view.padding) - getLeftRight(view.margin),\n      height : view.bounds.height - getTopBottom(view.padding) - getTopBottom(view.margin)\n    }\n  },\n  position(x, y) {\n    this.active.managers.push(view => {\n      const vp = this.getViewPortSize(view.parent)\n      return {\n        x : vp.width * x,\n        y : vp.height * y\n      }\n    })\n  },\n  anchor(x, y) {\n    this.active.managers.push(view => ({\n      x : -Math.max(view.bounds.width, 0) * x,\n      y : -Math.max(view.bounds.height, 0) * y\n    }))\n  },\n  visibility(visible) {\n    this.active.hidden = !visible\n  },\n  animateVisibility(visible) {\n    const view = this.active\n    if(visible) {\n      view.hidden = false\n      this.animate({\n        alpha : view.alpha\n      }, {\n        alpha : 1\n      }, this.firstRender ? 0 : 300)\n    } else {\n      this.animate({\n        alpha : view.alpha\n      }, {\n        alpha : 0\n      }, this.firstRender ? 0 : 300, () => {\n        view.hidden = true\n      })\n    }\n  },\n  timeout(callback, ms) {\n    const active = this.active\n    setTimeout(() => {\n      this.active = active\n      callback()\n      this.render()\n    }, ms)\n  },\n  margin(...margin) {\n    if(margin.length === 1) {\n      this.active.margin = [margin[0], margin[0], margin[0], margin[0]]\n    } else {\n      this.active.margin = margin;\n    }\n  },\n  padding(...padding) {\n    if(padding.length === 1) {\n      this.active.padding = [padding[0], padding[0], padding[0], padding[0]]\n    } else {\n      this.active.padding = padding;\n    }\n  },\n  background(background) {\n    this.active.background = background;\n  },\n  onClick(onClick) {\n    this.active.onClick = onClick;\n  },\n  text(display) {\n    this.active.text.display = display;\n  },\n  round(round) {\n    this.active.round = round;\n  },\n  shadow(shadow = true) {\n    this.active.shadow = shadow;\n  },\n  src(image) {\n    this.active.image = image;\n  },\n  textColor(textColor) {\n    this.active.text.color = textColor\n  },\n  textAlign(align) {\n    this.active.text.align = align\n  },\n  input(input = \"text\") {\n    const view = this.active\n    view.input = input\n    view.overflow = false\n    view.onClick = () => {\n      view.textbox = this.textbox\n      this.textbox.view = view\n      this.textbox.value = view.text.display\n      this.textbox.type = input\n      this.render()\n    }\n  },\n  animate(from, to, ms, cb) {\n    const view = this.active\n    const start = Date.now()\n    const handler = (now = Date.now()) => {\n      const percent =  Math.min((now - start) / ms, 1)\n      const weight = percent\n      Object.keys(from).forEach(key => {\n        view[key] = from[key] + (to[key] - from[key]) * weight\n      })\n      if(percent === 1) {\n        clearInterval(interval)\n        cb && cb()\n      }\n      this.render()\n    }\n    handler(start)\n    const interval = setInterval(handler, 1000 / 60)\n  },\n  start(view, state) {\n    this.firstRender = true\n    this.active = this\n    this.container(this.MATCH, this.MATCH, () => {\n      view.call(this, state)\n      if(this.children.length > 1) {\n        this.animate({\n          alpha : .25,\n          x : this.bounds.width\n        }, {\n          alpha : 1,\n          x : 0\n        }, 300)\n      }\n    })\n    this.render()\n    this.firstRender = false\n    return this\n  },\n  back() {\n    if(this.children.length > 1) {\n      this.active = this.children[this.children.length - 1]\n      this.animate({\n        alpha : 1,\n        x : 0\n      }, {\n        alpha : .25,\n        x : this.bounds.width\n      }, 300, () => {\n        this.children.pop()\n      })\n    } else {\n      console.log(\"TODO\")\n    }\n  },\n  separator() {\n    this.active.separator = true\n  },\n  linear(spacing = 0, direction = 'vertical') {\n    this.active.managers.unshift(view => {\n      const weight = view.children.reduce((weight, child) => weight + (child.weight || 0), 0)\n      if(weight) {\n        const dim = direction === \"vertical\" ? \"height\" : \"width\"\n        const vp = this.getViewPortSize(view)\n        const span = view.bounds[dim]\n        const space = view.children.reduce((space, child) => {\n          return space - (child.weight ? 0 : child.bounds[dim])\n        }, vp[dim] - spacing * (view.children.length - 1))\n        view.children.forEach(child => {\n          if(child.weight) {\n            child[dim] = (child.weight / weight) * space\n          }\n        })\n      }\n      view.children.forEach((child, index) => {\n        if(index) {\n          const previous = view.children[index - 1]\n          if(direction === 'vertical') {\n            child.y = previous.y + previous.bounds.height + spacing\n          } else if(direction === 'horizontal') {\n            child.x = previous.x + previous.bounds.width + spacing\n          }\n        }\n      })\n      return {}\n    })\n  },\n  weight(weight) {\n    this.active.weight = weight\n  },\n  render() {\n    this.textbox.style.display = \"none\"\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.height)\n    this.children.forEach(child => {\n      this.layoutView(child)\n      this.renderView(child)\n    });\n    const ctx = this.context\n    const cvs = this.canvas\n    ctx.beginPath()\n\n    ctx.moveTo(0,0)\n    ctx.lineTo(cvs.width,0)\n    ctx.lineTo(cvs.width,cvs.height)\n    ctx.lineTo(0, cvs.height)\n    ctx.lineTo(0, 0)\n\n    ctx.moveTo(cvs.width / 4, cvs.height / 4)\n    ctx.lineTo(3 * cvs.width / 4, cvs.height / 4)\n    ctx.lineTo(3 * cvs.width / 4, 3 * cvs.height / 4)\n    ctx.lineTo(cvs.width / 4, 3 * cvs.height / 4)\n    ctx.lineTo(cvs.width / 4, cvs.height / 4)\n    ctx.fillStyle=\"rgba(0,0,0,.7)\"\n    ctx.fill()\n  },\n  scrollable() {\n    const active = this.active\n    active.overflow = false\n    let lastMouse, lastTs = Date.now(), dx = 0, dy = 0\n    setInterval(() => {\n      const now = Date.now()\n      const dt = (now - lastTs) / 1000\n      lastTs = now\n      dx /= 1.2\n      if(Math.abs(dx) < 1) {\n        dx = 0\n      }\n      dy /= 1.2\n      if(Math.abs(dy) < 1) {\n        dy = 0\n      }\n      if(!lastMouse && (dx || dy)) {\n        update()\n      }\n    }, 1000 / 60)\n    const update = () => {\n      const right = Math.max(0, ...active.children.map(child => child.bounds.x + child.bounds.width - (active.bounds.x + active.bounds.width + active.scrollX)))\n      const bottom = Math.max(0, ...active.children.map(child => child.bounds.y + child.bounds.height - (active.bounds.y + active.bounds.height + active.scrollY)))\n      active.scrollX = Math.max(Math.min(active.scrollX + dx, 0), -right)\n      active.scrollY = Math.max(Math.min(active.scrollY + dy, 0), -bottom)\n      this.render()\n    }\n    active.onMouseMove = function(mouse) {\n      if(lastMouse) {\n        dx = mouse.x - lastMouse.x\n        dy = mouse.y - lastMouse.y\n        update()\n        lastMouse = mouse\n      }\n    }\n    active.onMouseDown = function(mouse) {\n      lastMouse = mouse\n    }\n    active.onMouseUp = active.onMouseOut = function(mouse) {\n      lastMouse = null\n    }\n  },\n  getIntersection(view) {\n    const parent = view.parent\n    const intersection = {\n      x : Math.max(parent.intersection.x, view.bounds.x),\n      y : Math.max(parent.intersection.y, view.bounds.y)\n    }\n    intersection.left = intersection.x\n    intersection.top = intersection.y\n    intersection.right = Math.min(parent.intersection.x + parent.intersection.width, view.bounds.x + view.bounds.width)\n    intersection.bottom = Math.min(parent.intersection.y + parent.intersection.height, view.bounds.y + view.bounds.height)\n    intersection.width = intersection.right - intersection.left\n    intersection.height = intersection.bottom - intersection.top\n    view.intersection = intersection\n    //then check if its in bounds\n    view.isInBounds = intersection.width > 0 && intersection.height > 0 && !view.hidden\n  },\n  layoutView(view) {\n    const bounds = view.hidden ? {x:0,y:0,width:0,height:0} : view.managers.reduce((bounds, manager) => {\n      const wrapper = manager(view)\n      const current = typeof wrapper === \"function\" ? wrapper(view) : wrapper\n      return {\n        x : Math.round((current.x || 0) + bounds.x),\n        y : Math.round((current.y || 0) + bounds.y),\n        width : Math.round((current.width || 0) + bounds.width),\n        height : Math.round((current.height || 0) + bounds.height)\n      }\n    }, {\n      x : 0,\n      y : 0,\n      width : view.width,\n      height : view.height\n    })\n    const moved = !equals(view.bounds, bounds)\n    view.bounds = bounds\n    if(moved) {\n      this.layoutView(view)\n    } else {\n      this.getIntersection(view)\n    }\n    if(view.children.length) {\n      if(view.children.reduce((moved, child) => this.layoutView(child) || moved, false)) {\n        this.layoutView(view)\n        return true\n      }\n    }\n    return moved\n  },\n  renderView(view) {\n    if(view.isInBounds) {\n      this.context.save()\n      this.context.globalAlpha = this.context.globalAlpha * view.alpha\n      const x = view.bounds.x\n      const y = view.bounds.y\n      const width = view.bounds.width\n      const height = view.bounds.height\n      const hw = width / 2\n      const hh = height / 2\n      const margin = view.margin || EMPTY_ARRAY\n      const padding = view.padding || EMPTY_ARRAY\n      const mw = width - getLeftRight(margin);\n      const mh = height - getTopBottom(margin);\n\n      if(view.shadow) {\n        const shadow = 2\n        this.context.shadowColor = 'rgba(0, 0, 0, .7)';\n        this.context.shadowBlur = shadow;\n        this.context.shadowOffsetX = shadow;\n        this.context.shadowOffsetY = shadow;\n      }\n      view.render(\n        this.context,\n        x + margin[3],\n        y + margin[0],\n        mw,\n        mh,\n        getValue(view, \"round\"),\n        view.background || \"transparent\"\n      )\n      this.context.shadowColor = 'transparent';\n      this.context.shadowBlur = 0;\n      this.context.shadowOffsetX = 0;\n      this.context.shadowOffsetY = 0;\n      //DEBUG HERE\n      if(false) {\n        this.context.translate(x, y)\n        //padding\n        if(padding) {\n          this.context.fillStyle = \"rgba(0, 255, 0, .7)\"\n          //top\n          this.context.fillRect(margin[3], margin[0], width - (margin[3] + margin[1]), padding[0])\n          //left\n          this.context.fillRect(margin[3], margin[0] + padding[0], padding[3], height - (margin[0] + margin[2] + padding[0]))\n          //right\n          this.context.fillRect(width - margin[1] - padding[1], margin[0] + padding[0], padding[1], height - (margin[0] + margin[2] + padding[0]))\n          //bottom\n          this.context.fillRect(margin[3] + padding[3], height - margin[2] - padding[2], width - (margin[3] + padding[3] + margin[1] + padding[1]), padding[2])\n        }\n        //margin\n        if(margin) {\n          this.context.fillStyle = \"rgba(0, 0, 255, .7)\"\n          //top\n          this.context.fillRect(0, 0, width, margin[0])\n          //left\n          this.context.fillRect(0, margin[0], margin[3], height - margin[0])\n          //right\n          this.context.fillRect(width - margin[1], margin[0], margin[1], height - margin[0])\n          //bottom\n          this.context.fillRect(margin[3], height - margin[2], width - margin[1] - margin[3], margin[2])\n        }\n        //outline\n        this.context.strokeStyle = \"rgba(0, 0, 0, .7)\"\n        this.context.setLineDash([2, 4])\n        this.context.strokeRect(0, 0, width, height)\n        this.context.setLineDash([])\n        this.context.translate(-x, -y)\n      }\n      if(view.image && view.image.complete) {\n        this.context.drawImage(view.image, x + padding[3], y + padding[0], mw - getLeftRight(padding), mh - getTopBottom(padding))\n      }\n      //STOP DEBUG\n      if(!view.overflow) {\n        this.context.clip()\n      }\n      if(view.textbox) {\n        view.textbox.style.display = \"block\"\n        view.textbox.style.left = `${view.bounds.x}px`\n        view.textbox.style.top = `${view.bounds.y}px`\n        view.textbox.style.width = `${view.bounds.width}px`\n        view.textbox.style.height = `${view.bounds.height}px`\n        if(this.textbox !== document.activeElement) {\n          this.textbox.focus()\n        }\n      }\n      if (view.text.display) {\n        const offset = view.textbox ? view.textbox.scrollLeft : 0\n        this.context.fillStyle = view.text.color;\n        this.context.font = `${view.text.size}px sans-serif`;\n        this.context.textBaseline = \"top\";\n        this.context.textAlign = view.text.align;\n        const lines = view.text.display.split(\"\\n\")\n        lines.forEach((line, index) => {\n          let offsetX = 0\n          switch(this.context.textAlign) {\n            case \"right\" : offsetX = width - getLeftRight(padding); break;\n            case \"center\" : offsetX = mw / 2 - padding[3]; break;\n          }\n          // \\u25CF\n          // \\u2022\n          this.context.fillText(\n            view.input === \"password\" ? line.split(\"\").map(it => '\\u2022').join(\"\") : line,\n            x + offsetX + padding[3] - offset,\n            y + index * (view.text.size + LINE_SPACING) + padding[0]\n          );\n        })\n      }\n      view.children.forEach((child, index) => {\n        this.renderView(child)\n        if(index > 0 && view.separator) {\n          this.context.beginPath()\n          this.context.moveTo(\n            child.bounds.x,\n            child.bounds.y\n          )\n          this.context.lineTo(\n            child.bounds.x + child.bounds.width,\n            child.bounds.y\n          )\n          this.context.strokeStyle = \"rgba(0, 0, 0, .7)\"\n          this.context.stroke()\n        }\n      });\n      this.context.globalAlpha = this.context.globalAlpha / view.alpha\n      this.context.restore()\n    }\n  },\n  button(color) {\n    this.textAlign(\"center\")\n    this.padding(16)\n    this.textColor(\"white\")\n    if(color) {\n      this.round(child => Math.min(child.bounds.width / 2, child.bounds.height / 2))\n      this.background(color)\n    }\n  },\n  card() {\n    this.background(\"white\")\n    this.round(slight_round)\n    this.shadow()\n  },\n  tabs(...tabs) {\n    const tab$ = new Observable(0)\n    this.container(this.MATCH, this.WRAP, container => {\n      this.container(this.MATCH, this.WRAP, () => {\n        this.linear(0, \"horizontal\")\n        tabs.forEach((text, index) => {\n          this.container(0, this.WRAP, () => {\n            this.textColor(index ? \"black\" : \"white\")\n            this.padding(16)\n            this.weight(1)\n            this.text(text)\n            this.style(normal_12)\n            this.textAlign(\"center\")\n            this.onClick(() => tab$.set(index))\n          })\n        })\n      })\n      const indicator = this.container(dim => view => ({\n        width : view.parent.bounds.width / tabs.length\n      }), 5, () => {\n        this.position(0, 1)\n        this.anchor(0, 1)\n        this.background(\"gold\")\n      })\n      tab$.observe(tab => {\n        container.children[0].children.forEach(child => {\n          child.text.color = \"black\"\n        })\n        container.children[0].children[tab].text.color = \"white\"\n        this.active = indicator\n        this.animate({\n          x : indicator.x\n        }, {\n          x : tab * container.bounds.width / tabs.length\n        }, 300)\n      })\n    })\n    return tab$\n  },\n  observe(...args) {\n    const observables$ = args\n    const callback = observables$.pop()\n    const view = this.active\n    observables$.forEach((observable$, i) => {\n      observable$.observe(Observable.skipFirst(observable => {\n        this.active = view\n        const values = observables$.map(it => it.get())\n        values[i] = observable\n        callback(...values)\n      }))\n    })\n    callback(...observables$.map(it => it.get()))\n  },\n  bind() {\n    for (var i in this) {\n      if (typeof this[i] === \"function\") {\n        this[i] = this[i].bind(this);\n      }\n    }\n  }\n};\nexport default Screen\n","import \"./prototype\"\nimport Splash from \"./views/splash\"\nimport Screen from \"./rave/screen\"\nnew Screen(document.getElementsByTagName(\"canvas\")[0]).start(Splash);\n"]}